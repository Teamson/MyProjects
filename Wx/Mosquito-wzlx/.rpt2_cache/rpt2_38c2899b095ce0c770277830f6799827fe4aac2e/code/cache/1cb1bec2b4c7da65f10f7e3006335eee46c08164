{
  "code": "import Utility from \"../Mod/Utility\";\r\nexport class ModelPos {\r\n    constructor(x, y, z) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n    getV3() {\r\n        return new Laya.Vector3(Number(this.x), Number(this.y), Number(this.z));\r\n    }\r\n}\r\nexport class PlayerData {\r\n    constructor() {\r\n        this.grade = 1;\r\n        this.coin = 0;\r\n        this.key = 0;\r\n        this.skinId = 0;\r\n        this.skinArr = [];\r\n        this.hatId = -1;\r\n        this.hatArr = [];\r\n        this.shoesId = 0;\r\n        this.shoesArr = [];\r\n        this.videoArr = [];\r\n        this.exitTime = 0;\r\n    }\r\n}\r\nexport default class PlayerDataMgr {\r\n    static getPlayerData() {\r\n        if (!localStorage.getItem('playerData')) {\r\n            this._playerData = new PlayerData();\r\n            for (let i = 0; i < 15; i++) {\r\n                if (i == 0) {\r\n                    this._playerData.skinArr.push(1);\r\n                    this._playerData.hatArr.push(0);\r\n                    this._playerData.shoesArr.push(1);\r\n                }\r\n                else {\r\n                    this._playerData.skinArr.push(0);\r\n                    this._playerData.hatArr.push(0);\r\n                    this._playerData.shoesArr.push(0);\r\n                }\r\n                this._playerData.videoArr.push(0);\r\n            }\r\n            localStorage.setItem('playerData', JSON.stringify(this._playerData));\r\n        }\r\n        else {\r\n            if (this._playerData == null) {\r\n                this._playerData = JSON.parse(localStorage.getItem('playerData'));\r\n            }\r\n        }\r\n        return this._playerData;\r\n    }\r\n    static setPlayerData() {\r\n        localStorage.setItem('playerData', JSON.stringify(this._playerData));\r\n    }\r\n    static changeCoin(dt) {\r\n        this._playerData.coin += dt;\r\n        this.setPlayerData();\r\n    }\r\n    static setExitTime() {\r\n        this._playerData.exitTime = new Date().getTime();\r\n        this.setPlayerData();\r\n    }\r\n    static getUnlockSkinId(cost = false) {\r\n        let id = -1;\r\n        let arr = [];\r\n        let length = cost ? 10 : this._playerData.skinArr.length;\r\n        for (let i = 0; i < length; i++) {\r\n            if (this._playerData.skinArr[i] == 0) {\r\n                arr.push(i);\r\n            }\r\n        }\r\n        if (arr.length > 0) {\r\n            id = Utility.getRandomItemInArr(arr);\r\n        }\r\n        return id;\r\n    }\r\n    static getUnlockShoesId(cost = false) {\r\n        let id = -1;\r\n        let arr = [];\r\n        let length = cost ? 10 : this._playerData.shoesArr.length;\r\n        for (let i = 0; i < length; i++) {\r\n            if (this._playerData.shoesArr[i] == 0) {\r\n                arr.push(i);\r\n            }\r\n        }\r\n        if (arr.length > 0) {\r\n            id = Utility.getRandomItemInArr(arr);\r\n        }\r\n        return id;\r\n    }\r\n    static getUnlockHatId(cost = false) {\r\n        let id = -1;\r\n        let arr = [];\r\n        let length = cost ? 10 : this._playerData.hatArr.length;\r\n        for (let i = 0; i < length; i++) {\r\n            if (this._playerData.hatArr[i] == 0) {\r\n                arr.push(i);\r\n            }\r\n        }\r\n        if (arr.length > 0) {\r\n            id = Utility.getRandomItemInArr(arr);\r\n        }\r\n        return id;\r\n    }\r\n}\r\nPlayerDataMgr._playerData = null;\r\nPlayerDataMgr.powerMax = 10;\r\nPlayerDataMgr.tempSkinId = -1;\r\nPlayerDataMgr.levelDataArr = [];\r\n",
  "references": [
    "E:/微信项目集合/工程/HighHeels2.10.0/src/Mod/Utility.ts"
  ]
}
