{
  "code": "import GameLogic from \"../Crl/GameLogic\";\r\nimport FdAd from \"../FanDong/FdAd\";\r\nimport PlayerDataMgr from \"../Libs/PlayerDataMgr\";\r\nexport default class GameUI extends Laya.Scene {\r\n    constructor() {\r\n        super();\r\n        this.touchStartX = 0;\r\n        this.touchPreX = 0;\r\n        this.touching = false;\r\n    }\r\n    onOpened() {\r\n        GameUI.Share = this;\r\n        this.gradeNum.value = PlayerDataMgr.getPlayerData().grade.toString();\r\n        this.touchBtn.on(Laya.Event.MOUSE_DOWN, this, this.touchBtnDownCB);\r\n        this.touchBtn.on(Laya.Event.MOUSE_MOVE, this, this.touchBtnMoveCB);\r\n        this.touchBtn.on(Laya.Event.MOUSE_UP, this, this.touchBtnUpCB);\r\n        this.touchBtn.on(Laya.Event.MOUSE_OUT, this, this.touchBtnUpCB);\r\n        Laya.timer.frameLoop(1, this, this.updateCB);\r\n        FdAd.showBannerAd();\r\n    }\r\n    onClosed() {\r\n        Laya.timer.clearAll(this);\r\n        FdAd.hideBannerAd();\r\n    }\r\n    touchBtnDownCB(event) {\r\n        if (GameLogic.Share.isGameOver)\r\n            return;\r\n        if (!GameLogic.Share.isStartGame) {\r\n            GameLogic.Share.isStartGame = true;\r\n            this.guideAni.visible = false;\r\n            this.countTips.visible = true;\r\n            GameLogic.Share.startToWalk();\r\n        }\r\n        this.touching = true;\r\n        this.touchStartX = event.stageX;\r\n        this.touchPreX = event.stageX;\r\n    }\r\n    touchBtnMoveCB(event) {\r\n        if (!this.touching || GameLogic.Share.isGameOver || !GameLogic.Share.isStartGame)\r\n            return;\r\n        let sx = event.stageX;\r\n        let dtx = this.touchPreX - sx;\r\n        GameLogic.Share._playerCrl.moveX(dtx / 80);\r\n        this.touchPreX = sx;\r\n    }\r\n    touchBtnUpCB(event) {\r\n        if (!this.touching || GameLogic.Share.isGameOver || !GameLogic.Share.isStartGame)\r\n            return;\r\n        this.touching = false;\r\n    }\r\n    updateCB() {\r\n        this.countTips.visible = GameLogic.Share.isStartGame;\r\n        this.gradeNum.value = PlayerDataMgr.getPlayerData().grade.toString();\r\n        this.countNum.value = GameLogic.Share._mosquitoNode.numChildren.toString();\r\n        let dis = GameLogic.Share._floorFinish.transform.position.z;\r\n        this.disBar.value = GameLogic.Share._mosquitoNode.transform.position.z / dis;\r\n    }\r\n}\r\n",
  "references": [
    "E:/FDProjects/Projects/Mosquito-wzdzz/src/Crl/GameLogic.ts",
    "E:/FDProjects/Projects/Mosquito-wzdzz/src/FanDong/FdAd.ts",
    "E:/FDProjects/Projects/Mosquito-wzdzz/src/Libs/PlayerDataMgr.ts"
  ]
}
