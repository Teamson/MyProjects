{
  "code": "import GameLogic from \"./GameLogic\";\r\nexport default class Player extends Laya.Script {\r\n    constructor() {\r\n        super();\r\n        this.myOwner = null;\r\n        this.isDied = false;\r\n        this.roadEdge = 3;\r\n        this.speed = 0.2;\r\n    }\r\n    onAwake() {\r\n        if (this.myOwner)\r\n            return;\r\n        this.myOwner = this.owner;\r\n    }\r\n    onDisable() {\r\n    }\r\n    moveX(dtX) {\r\n        if (GameLogic.Share.isGameOver) {\r\n            return;\r\n        }\r\n        if (this.myOwner.transform.position.x + dtX > this.roadEdge) {\r\n            this.myOwner.transform.position = new Laya.Vector3(this.roadEdge, this.myOwner.transform.position.clone().y, this.myOwner.transform.position.clone().z);\r\n            return;\r\n        }\r\n        else if (this.myOwner.transform.position.x + dtX < -this.roadEdge) {\r\n            this.myOwner.transform.position = new Laya.Vector3(-this.roadEdge, this.myOwner.transform.position.clone().y, this.myOwner.transform.position.clone().z);\r\n            return;\r\n        }\r\n        let newPos = new Laya.Vector3(dtX, 0, 0);\r\n        this.myOwner.transform.translate(newPos, false);\r\n    }\r\n    onUpdate() {\r\n        if (!GameLogic.Share.isGameOver) {\r\n            for (let i = 0; i < this.myOwner.numChildren; i++) {\r\n                let m = this.myOwner.getChildAt(i);\r\n                m.active = i < 50;\r\n            }\r\n        }\r\n        else {\r\n            for (let i = 0; i < this.myOwner.numChildren; i++) {\r\n                let m = this.myOwner.getChildAt(i);\r\n                m.active = true;\r\n            }\r\n        }\r\n        if (GameLogic.Share.isGameOver || !GameLogic.Share.isStartGame)\r\n            return;\r\n        this.myOwner.transform.translate(new Laya.Vector3(0, 0, this.speed), false);\r\n        GameLogic.Share._camera.transform.translate(new Laya.Vector3(0, 0, this.speed), false);\r\n        if (this.myOwner.transform.position.z >= GameLogic.Share._floorFinish.transform.position.z) {\r\n            GameLogic.Share.finishCB(true);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Player.js.map",
  "references": [
    "D:/FD/MyProjects/Wx/Mosquito-wzdzz/src/Crl/GameLogic.ts"
  ],
  "map": "{\"version\":3,\"file\":\"Player.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/Crl/Player.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
