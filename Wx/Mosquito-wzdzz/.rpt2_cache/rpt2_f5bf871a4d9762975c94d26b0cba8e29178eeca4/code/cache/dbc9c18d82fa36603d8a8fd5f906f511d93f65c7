{
  "code": "import GameLogic from \"../../Crl/GameLogic\";\r\nimport WxApi from \"../../Libs/WxApi\";\r\nimport AdMgr from \"../../Mod/AdMgr\";\r\nimport Utility from \"../../Mod/Utility\";\r\nimport JJMgr, { SceneDir } from \"../Common/JJMgr\";\r\nexport default class GameNavUI extends Laya.Scene {\r\n    constructor() {\r\n        super();\r\n    }\r\n    onOpened(param) {\r\n        this.initNav();\r\n        Laya.timer.once(1500, this, () => {\r\n            Utility.tMove2D(this.navNode, 650, 350, 1000, () => {\r\n                Utility.rotateLoop(this.navNode, 5, 300);\r\n                Laya.timer.loop(5000, this, this.initNav);\r\n            });\r\n        });\r\n        WxApi.WxOffShow(WxApi.gameNavCallback);\r\n        WxApi.gameNavCallback = () => {\r\n            if (WxApi.gameNavOnHide) {\r\n                GameLogic.Share.isPause = false;\r\n                if (GameLogic.Share.mtdTween)\r\n                    GameLogic.Share.mtdTween.resume();\r\n            }\r\n        };\r\n        WxApi.WxOnShow(WxApi.gameNavCallback);\r\n    }\r\n    onClosed() {\r\n        WxApi.gameNavOnHide = false;\r\n    }\r\n    initNav() {\r\n        let id = Math.floor(Math.random() * JJMgr.instance.navDataArr.length);\r\n        let icon = this.navNode.getChildByName('icon');\r\n        icon.skin = JJMgr.instance.navDataArr[id].icon;\r\n        this.navNode.off(Laya.Event.CLICK, this, this.navCB);\r\n        this.navNode.on(Laya.Event.CLICK, this, this.navCB, [id]);\r\n    }\r\n    navCB(id) {\r\n        console.log('click id:', id);\r\n        GameLogic.Share.isPause = true;\r\n        if (GameLogic.Share.mtdTween)\r\n            GameLogic.Share.mtdTween.pause();\r\n        WxApi.aldEvent('游戏内导出位—总点击数');\r\n        JJMgr.instance.NavigateApp(id, () => {\r\n            JJMgr.instance.openScene(SceneDir.SCENE_FULLGAMEUI, false, {\r\n                continueCallbackFun: () => {\r\n                    if (JJMgr.instance.dataConfig.front_main_banner_switch && WxApi.isValidBanner()) {\r\n                        AdMgr.instance.showBanner();\r\n                    }\r\n                    GameLogic.Share.isPause = false;\r\n                    if (GameLogic.Share.mtdTween)\r\n                        GameLogic.Share.mtdTween.resume();\r\n                }\r\n            });\r\n        }, () => {\r\n            WxApi.aldEvent('游戏内导出位-总成功跳转数');\r\n            WxApi.gameNavOnHide = true;\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=GameNavUI.js.map",
  "references": [
    "E:/LayaProjects/PoleRush-cgnw/src/Crl/GameLogic.ts",
    "E:/LayaProjects/PoleRush-cgnw/src/Libs/WxApi.ts",
    "E:/LayaProjects/PoleRush-cgnw/src/Mod/AdMgr.ts",
    "E:/LayaProjects/PoleRush-cgnw/src/Mod/Utility.ts",
    "E:/LayaProjects/PoleRush-cgnw/src/JJExport/Common/JJMgr.ts"
  ],
  "map": "{\"version\":3,\"file\":\"GameNavUI.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/JJExport/View/GameNavUI.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
