{
  "code": "import JJMgr from \"../Common/JJMgr\";\r\nimport BaseExportUI from \"./BaseExportUI\";\r\nimport JJWxBannerAd from \"../Common/JJWxBannerAd\";\r\nexport default class Box3 extends BaseExportUI {\r\n    onPress() {\r\n        this.pressBar.value += this.addProgerss;\r\n        Laya.Tween.to(this.btnPress, { scaleX: 0.7, scaleY: 0.7 }, 110, null, Laya.Handler.create(this, () => {\r\n            Laya.Tween.to(this.btnPress, { scaleX: 1, scaleY: 1 }, 110, null);\r\n        }));\r\n        Laya.Tween.to(this.imgGift, { rotation: 30 }, 100, null, Laya.Handler.create(this, () => {\r\n            Laya.Tween.to(this.imgGift, { rotation: 0 }, 100);\r\n        }));\r\n        console.log(\"前\", this.pressBar.value, this.addProgerss, this.needClick);\r\n        if (this.pressBar.value >= this.needClick * this.addProgerss) {\r\n            JJWxBannerAd.Instance.showBanner();\r\n            Laya.timer.once(2500, this, () => {\r\n                if (this.isforce) {\r\n                    if (JJWxBannerAd.Instance.isLoadBannerError) {\r\n                        this.onCloseEvent();\r\n                    }\r\n                    JJWxBannerAd.Instance.hideBanner();\r\n                }\r\n                else {\r\n                    this.onCloseEvent();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    reFreshUI() {\r\n        if (this.pressBar.value > JJMgr.instance.dataConfig.front_progress_bar_return) {\r\n            this.pressBar.value -= JJMgr.instance.dataConfig.front_progress_bar_return;\r\n        }\r\n        this.light.rotation += 1;\r\n    }\r\n    initUI() {\r\n        this.pressBar.value = 0;\r\n        this.btnPress.on(Laya.Event.CLICK, this, this.onPress);\r\n        Laya.timer.frameLoop(1, this, this.reFreshUI);\r\n        var min = Number(JJMgr.instance.dataConfig.front_box_clicks[0]);\r\n        var max = Number(JJMgr.instance.dataConfig.front_box_clicks[1]);\r\n        this.needClick = Math.floor(Math.random() * (max - JJMgr.instance.dataConfig.front_progress_bar_reduce - min + 1)) + min;\r\n        this.addProgerss = 1 / max;\r\n        console.log(\"点击数：\", this.needClick);\r\n        this.isforce = JJMgr.instance.dataConfig.front_is_box_force;\r\n    }\r\n    initEvent() {\r\n        JJMgr.instance.eventDispatcher.on(\"wx_awake_event\", this, this.onCloseEvent);\r\n        if (!JJWxBannerAd.Instance.isLoadBannerError) {\r\n            JJMgr.instance.eventDispatcher.on(\"hide_box_scene\", this, () => {\r\n                JJMgr.instance.eventDispatcher.offAll(\"hide_box_scene\");\r\n                this.onCloseEvent();\r\n            });\r\n        }\r\n    }\r\n    onOpened() {\r\n        JJWxBannerAd.Instance.hideBanner();\r\n        if (JJWxBannerAd.Instance.isLoadBannerError) {\r\n            this.onCloseEvent();\r\n        }\r\n        this.initUI();\r\n        this.initEvent();\r\n    }\r\n    onCloseEvent() {\r\n        JJMgr.instance.closeScene(this);\r\n    }\r\n}\r\n//# sourceMappingURL=Box3.js.map",
  "references": [
    "E:/LayaProjects/HighHeels2.10.0/src/JJExport/Common/JJMgr.ts",
    "E:/LayaProjects/HighHeels2.10.0/src/JJExport/View/BaseExportUI.ts",
    "E:/LayaProjects/HighHeels2.10.0/src/JJExport/Common/JJWxBannerAd.ts"
  ],
  "map": "{\"version\":3,\"file\":\"Box3.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/JJExport/View/Box3.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
