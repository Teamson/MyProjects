!function(){"use strict";class e{constructor(){this.grade=1,this.bodyArr=[1,0,0,0,0,0],this.headArr=[1,1,1,1,1,0,0,0,0,0],this.legArr=[1,1,1,1,1,0,0,0,0,0],this.tailArr=[1,1,0,0],this.wingsArr=[0,0]}}class t{constructor(){this.head=[[2,1,25],[4,2,30],[6,3,35],[8,4,40],[10,5,45],[12,6,50],[14,7,55],[16,8,60],[18,9,65],[20,10,70]],this.leg=[[2,1,25],[4,2,30],[6,3,35],[8,4,40],[10,5,45],[12,6,50],[14,7,55],[16,8,60],[18,9,65],[20,10,70]],this.tail=[[5,2,20],[10,4,30],[15,6,40],[20,8,50]],this.wings=[[10,5,50],[10,5,50]]}}class i{static getPlayerData(){return localStorage.getItem("playerData")?null==this._playerData&&(this._playerData=JSON.parse(localStorage.getItem("playerData"))):(this._playerData=new e,localStorage.setItem("playerData",JSON.stringify(this._playerData))),this._playerData}static setPlayerData(){localStorage.setItem("playerData",JSON.stringify(this._playerData))}static getBodyName(e){return["美洲狮 身体","大象 身体","青蛙 身体","长颈鹿 身体","马 身体","霸王龙 身体"][e]}static getHeadName(e){return["美洲狮 头","鹿 头","鸭子 头","大象 头","青蛙 头","长颈鹿 头","马 头","人类 头","独角兽 头","霸王龙 头"][e]}static getLegName(e){return["美洲狮 腿","大象 腿","青蛙 腿","青蛙 腿","长颈鹿 腿","马 腿","人类 手","人类 腿","霸王龙 腿","霸王龙 腿"][e]}static getTailName(e){return["美洲狮 尾巴","大象 尾巴","长颈鹿 尾巴","马 尾巴"][e]}static getWingsName(e){return["蝙蝠 翅膀","独角兽 翅膀"][e]}static getDataByType(e){let t=[];return 0==e?t=this._playerData.headArr:1==e?t=this._playerData.legArr:2==e?t=this._playerData.tailArr:3==e&&(t=this._playerData.wingsArr),t}static getItemData(){return this._itemData||(this._itemData=new t),this._itemData}static getInvalidSkins(){let e=[];for(let t=0;t<4;t++){let i=this.getDataByType(t);for(let a=0;a<i.length;a++)0==i[a]&&e.push([t,a])}return e}static unlockBody(){for(let e=0;e<this._playerData.bodyArr.length;e++)if(0==this._playerData.bodyArr[e])return this._playerData.bodyArr[e]=1,void this.setPlayerData()}}i._playerData=null,i._itemData=null;class a{static LoginWx(e){if(!Laya.Browser.onWeiXin)return;let t=Laya.Browser.window.wx.getLaunchOptionsSync();Laya.Browser.window.wx.login({success(i){i.code&&(console.log("res.code:",i.code),e&&e(i.code,t.query))}})}static GetLaunchParam(e){Laya.Browser.onWeiXin&&(this.OnShowFun=e,e(this.GetLaunchPassVar()),Laya.Browser.window.wx.onShow(e=>{null!=this.OnShowFun&&this.OnShowFun(e),console.log("wx on show")}))}static GetLaunchPassVar(){return Laya.Browser.onWeiXin?Laya.Browser.window.wx.getLaunchOptionsSync():null}static WxOnHide(e){Laya.Browser.onWeiXin&&Laya.Browser.window.wx.onHide(e)}static WxOffHide(e){e&&Laya.Browser.onWeiXin&&Laya.Browser.window.wx.offHide(e)}static WxOnShow(e){Laya.Browser.onWeiXin&&Laya.Browser.window.wx.onShow(e)}static WxOffShow(e){e&&Laya.Browser.onWeiXin&&Laya.Browser.window.wx.offShow(e)}static httpRequest(e,t,i="get",a){var s=new Laya.HttpRequest;s.http.timeout=5e3,s.once(Laya.Event.COMPLETE,this,a),s.once(Laya.Event.ERROR,this,this.httpRequest,[e,t,i,a]),"get"==i?s.send(e+"?"+t,"",i,"text"):"post"==i&&s.send(e,JSON.stringify(t),i,"text")}static DoVibrate(e=!0){Laya.Browser.onWeiXin&&this.isVibrate&&(e?Laya.Browser.window.wx.vibrateShort():Laya.Browser.window.wx.vibrateLong())}static OpenAlert(e,t=2e3,i=!1){Laya.Browser.onWeiXin&&Laya.Browser.window.wx.showToast({title:e,duration:t,mask:!1,icon:i?"success":"none"})}static preViewImage(e){Laya.Browser.onWeiXin&&Laya.Browser.window.wx.previewImage({current:e,urls:[e]})}}a.UnityPath="LayaScene_SampleScene/Conventional/",a.version="",a.isVibrate=!0,a.isMusic=!0,a.OnShowFun=null;class s{constructor(){this.effectArr=[]}static get instance(){return this._instance||(this._instance=new s),this._instance}initLoading(e){var t=[{url:"res/Sounds/Click.mp3",type:Laya.Loader.SOUND},{url:"res/Sounds/Get.mp3",type:Laya.Loader.SOUND},{url:"res/Sounds/Hurt.mp3",type:Laya.Loader.SOUND},{url:"res/Sounds/Win.mp3",type:Laya.Loader.SOUND},{url:"res/Sounds/Lose.mp3",type:Laya.Loader.SOUND}];Laya.loader.load(t,Laya.Handler.create(this,e)),Laya.SoundManager.setMusicVolume(1),Laya.SoundManager.setSoundVolume(1)}playMusic(e,t=0,i){Laya.SoundManager.playMusic("res/Sounds/"+e,t,new Laya.Handler(this,i))}stopMusic(){Laya.SoundManager.stopMusic()}playSoundEffect(e,t=1,i,a,s){return Laya.SoundManager.playSound("res/Sounds/"+e,t,new Laya.Handler(this,i),a,s)}stopSound(e){Laya.SoundManager.stopSound("res/Sounds/"+e)}}class n{static calcDistance(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}static getWorldDis(e,t){let i=e.transform.position.clone(),a=t.transform.position.clone();return Laya.Vector3.distance(i,a)}static getDirectionAToB(e,t,i=!0){let a=e.transform.position.clone(),s=t.transform.position.clone(),n=new Laya.Vector3(0,0,0);return Laya.Vector3.subtract(s,a,n),i&&Laya.Vector3.normalize(n,n),n}static fixPosY(e,t=1334){return e*Laya.stage.displayHeight/t}static findNodeByName(e,t){let i=null,a=e=>{for(let s=0;s<e.numChildren;s++){if(e.getChildAt(s).name==t)return void(i=e.getChildAt(s));a(e.getChildAt(s))}};return a(e),i}static TmoveTo(e,t,i,a,s){if(!e.transform)return;let n=new Laya.Tween;var r=e.transform.position;n.to(e.transform.position,{x:i.x,y:i.y,z:i.z,update:new Laya.Handler(this,()=>{e.transform&&(e.transform.position=r)})},t,s,Laya.Handler.create(this,()=>{a&&a()}))}static TmoveToYZ(e,t,i,a,s){if(!e.transform)return;let n=new Laya.Tween;var r=e.transform.position;return n.to(e.transform.position,{y:i.y,z:i.z,update:new Laya.Handler(this,()=>{e.transform&&(e.transform.position=r)})},t,null,Laya.Handler.create(this,()=>{a&&a()})),n}static TmoveToX(e,t,i,a,s){if(!e.transform)return;let n=new Laya.Tween;var r=e.transform.localPosition;n.to(e.transform.localPosition,{x:i.x,update:new Laya.Handler(this,()=>{e.transform&&(e.transform.localPosition=r)})},t,null,Laya.Handler.create(this,()=>{a&&a()}))}static TmoveToY(e,t,i,a,s){if(!e.transform)return;let n=new Laya.Tween;var r=e.transform.localPosition;n.to(e.transform.localPosition,{y:i.y,update:new Laya.Handler(this,()=>{e.transform&&(e.transform.localPosition=r)})},t,s,Laya.Handler.create(this,()=>{a&&a()}))}static TmoveToWorld(e,t,i,a,s){if(!e.transform)return;let n=new Laya.Tween;var r=e.transform.position;n.to(e.transform.position,{y:i.y,update:new Laya.Handler(this,()=>{e.transform&&(e.transform.position=r)})},t,null,Laya.Handler.create(this,()=>{a&&a()}))}static RotateWithPoint(e,t,i){let a=new Laya.Vector3,s=e.transform.localPosition.clone();return i=i*Math.PI/180,a.x=s.x*Math.cos(i)+(t.y*s.z-t.z*s.y)*Math.sin(i)+t.x*(t.x*s.x+t.y*s.y+t.z*s.z)*(1-Math.cos(i)),a.y=s.y*Math.cos(i)+(t.x*s.z-t.z*s.x)*Math.sin(i)+t.y*(t.x*s.x+t.y*s.y+t.z*s.z)*(1-Math.cos(i)),a.z=s.z*Math.cos(i)+(t.x*s.y-t.y*s.x)*Math.sin(i)+t.z*(t.x*s.x+t.y*s.y+t.z*s.z)*(1-Math.cos(i)),a}static RotateTo(e,t,i,a){var s=e.transform.rotationEuler;Laya.Tween.to(e.transform.rotationEuler,{x:i.x,y:i.y,z:i.z,update:new Laya.Handler(this,function(){e&&(e.transform.rotationEuler=s)})},t,Laya.Ease.cubicOut,Laya.Handler.create(this,function(){a&&a()}))}static tMove2D(e,t,i,a,s){Laya.Tween.to(e,{x:t,y:i},a,null,new Laya.Handler(this,()=>{s&&s()}))}static scaleTo2D(e,t,i,a){Laya.Tween.to(e,{scaleX:t,scaleY:t},i,null,new Laya.Handler(this,()=>{a&&a()}))}static alphaTo2D(e,t,i,a){Laya.Tween.to(e,{alpha:t},i,null,new Laya.Handler(this,()=>{a&&a()}))}static updateNumber(e,t,i,a=!0,s,n){let r=e*t,o=Math.floor((r-e)/60);o=o<=0?1:o;let h=()=>{s?((e+=o)>=r&&(e=r,n&&n(),Laya.timer.clear(this,h)),a?i.text=e.toString():i.value=e.toString()):((r-=o)<=e&&(r=e,n&&n(),Laya.timer.clear(this,h)),a?i.text=r.toString():i.value=r.toString())};Laya.timer.frameLoop(1,this,h)}static loadJson(e,t){Laya.loader.load(e,Laya.Handler.create(this,t),null,Laya.Loader.JSON)}static objectShake(e,t=1,i=.7){var a=t,s=1,n=e.transform.localPosition.clone();Laya.timer.frameLoop(1,this,function updateShake(){if(a>0){var t=new Laya.Vector3;Laya.Vector3.scale((r=Math.random()>.5?Math.random():-Math.random(),o=Math.random()>.5?Math.random():-Math.random(),new Laya.Vector3(r,o,0)),i,t),Laya.Vector3.add(n,t,t),e.transform.localPosition=t,a-=.02*s}else a=0,e.transform.localPosition=n,Laya.timer.clear(this,updateShake);var r,o})}static getRandomItemInArr(e){return e[Math.floor(Math.random()*e.length)]}static shuffleArr(e){let t=e.length;for(;t;){let i=Math.floor(Math.random()*t--);[e[i],e[t]]=[e[t],e[i]]}return e}static GetRandom(e,t,i=!0){let a=t-e,s=Math.random()*(a+1);return s+=e,i?Math.floor(s):s}static coinCollectAnim(e,t,i,a=10,s){let n=a;for(var r=0;r<a;r++){let a=Laya.Pool.getItemByClass("coin",Laya.Image);a.skin="startUI/zy_zs_1.png",a.x=e.x,a.y=e.y,i.addChild(a);let r=300+100*Math.random()-50;Laya.Tween.to(a,{x:a.x+250*Math.random()-125,y:a.y+250*Math.random()-125},r),Laya.timer.once(r+50,this,function(){Laya.Tween.to(a,{x:t.x,y:t.y},400,null,new Laya.Handler(this,function(){i.removeChild(a),Laya.Pool.recover("coin",a),0==--n&&s&&s()}))})}}static scaleLoop(e,t,i){Laya.Tween.to(e,{scaleX:t,scaleY:t},i,null,new Laya.Handler(this,()=>{Laya.Tween.to(e,{scaleX:1,scaleY:1},i,null,new Laya.Handler(this,()=>{this.scaleLoop(e,t,i)}))}))}static rotateLoop(e,t,i){Laya.Tween.to(e,{rotation:t},i,null,new Laya.Handler(this,()=>{Laya.Tween.to(e,{rotation:-t},2*i,null,new Laya.Handler(this,()=>{Laya.Tween.to(e,{rotation:0},i,null,new Laya.Handler(this,()=>{this.rotateLoop(e,t,i)}))}))}))}static visibleDelay(e,t){e.visible=!1,Laya.timer.once(t,this,()=>{e.visible=!0})}static pointInPolygon(e,t){for(var i=e.x,a=e.y,s=!1,n=0,r=t.length-1;n<t.length;r=n++){var o=t[n].x,h=t[n].y,l=t[r].x,d=t[r].y;h>a!=d>a&&i<(l-o)*(a-h)/(d-h)+o&&(s=!s)}return s}static getSprite3DResByUrl(e,t,i=!1){let s=Laya.loader.getRes(a.UnityPath+e);return Laya.Sprite3D.instantiate(s,t,i,new Laya.Vector3(0,0,0))}static getRandomItemInArrWithoutSelf(e,t,i=1){let a=[].concat(t);return a.splice(a.indexOf(e),1),(a=this.shuffleArr(a)).slice(0,i)}static getBoundBox(e,t=!1){let i=e.getComponent(Laya.PhysicsCollider).colliderShape,a=e.transform.position.clone();a.x+=i.localOffset.x,a.y+=i.localOffset.y,a.z+=i.localOffset.z;let s=e.parent,n=1;s&&s.transform&&t&&(n=s.transform.localScaleZ);let r=new Laya.Vector3(a.x-i.sizeX/2,a.y-i.sizeY/2,a.z-i.sizeZ/2),o=new Laya.Vector3(a.x+i.sizeX/2,a.y+i.sizeY/2,a.z+i.sizeZ*n/2/2);return new Laya.BoundBox(r,o)}static getBoundBoxWithMinMax(e,t){return new Laya.BoundBox(e,t)}static addClickEvent(e,t,i,a,n){if(e.offAllCaller(t),e instanceof Laya.Button&&!n){let s=e=>{i&&i.call(t,e)};e.on(Laya.Event.CLICK,t,s,[a])}else{let n=60,r=1,o=e.scaleX*r,h=e.scaleY*r,l=.9*r,d=!1,c=t=>{d=!0,s.instance.playSoundEffect("Click.mp3"),Laya.Tween.to(e,{scaleX:l,scaleY:l},n)};e.on(Laya.Event.MOUSE_DOWN,t,c,[a]);let y=a=>{0!=d&&(d=!1,Laya.Tween.to(e,{scaleX:o,scaleY:h},n,null,new Laya.Handler(t,()=>{i&&i.call(t,a)})))};e.on(Laya.Event.MOUSE_UP,t,y,[a]);let m=t=>{Laya.Tween.to(e,{scaleX:o,scaleY:h},n)};e.on(Laya.Event.MOUSE_OUT,t,m,[a])}}static getVector3(e,t,i){return new Laya.Vector3(Number(e),Number(t),Number(i))}}class r extends Laya.Script{constructor(){super()}onAwake(){this.myOwner=this.owner}onDisable(){}onUpdate(){if(!g.Share.isGameOver&&g.Share._player&&!g.Share._player.destroyed)if(g.Share.isMeet){let e=this.myOwner.transform.position.clone();e.x=(g.Share._player.transform.position.x+g.Share._enemy.transform.position.x)/2,Laya.Vector3.lerp(this.myOwner.transform.position.clone(),e,.1,e),this.myOwner.transform.position=e;let t=Math.abs(g.Share._player.transform.position.x-g.Share._enemy.transform.position.x);t>10&&(t=10),this.myOwner.fieldOfView=60+t/10*10}else{let e=this.myOwner.transform.position.clone();e.x=g.Share._player.transform.position.clone().x,Laya.Vector3.lerp(this.myOwner.transform.position.clone(),e,.1,e),this.myOwner.transform.position=e}}}class o{static inidAd(e){if(!Laya.Browser.onWeiXin)return void(e&&e());this.initBanner(),this.createVideoAd(),this.initGridAD(),this.createInterstitialAd();let t=()=>{this.isFullGridAdLoaded&&(Laya.timer.clear(this,t),e&&e())};Laya.timer.loop(100,this,t)}static getSystemInfoSync(){if(Laya.Browser.onWeiXin)return this.sysInfo||(this.sysInfo=Laya.Browser.window.wx.getSystemInfoSync()),this.sysInfo}static initBanner(){if(Laya.Browser.onWeiXin){this.bannerIdArr=this.shuffleArr(this.bannerIdArr),console.log("bannerId 数组排列：",this.bannerIdArr),!h.canTrapAll&&this.bannerAds.length>1&&this.bannerAds.splice(0,this.bannerAds.length-1);for(let e=0;e<this.bannerIdArr.length;e++)this.bannerTimesArr.push(0),this.bannerShowCount.push(0),this.bannerErrorArr.push(!1);for(let e=0;e<this.bannerIdArr.length;e++){let t=this.createBannerAd(e);this.bannerAds.push(t)}}}static get isAllBannerError(){let e=!0;for(let t=0;t<this.bannerErrorArr.length;t++)if(!this.bannerErrorArr[t]){e=!1;break}return e}static showBannerAd(){if(Laya.Browser.onWeiXin)if(this.isAllBannerError)this.stopCountBannerTime();else{for(let e=0;e<this.bannerErrorArr.length&&this.bannerErrorArr[this.bannerIndex];e++)this.bannerIndex++,this.bannerIndex>=this.bannerIdArr.length&&(this.bannerIndex=0);this.bannerAds[this.bannerIndex]&&this.bannerAds[this.bannerIndex].show(),this.stopCountBannerTime(),h.canTrapAll&&Laya.timer.loop(100,this,this.countBannerTime)}}static hideBannerAd(){Laya.Browser.onWeiXin&&(this.isAllBannerError?this.stopCountBannerTime():(this.bannerAds[this.bannerIndex]&&this.bannerAds[this.bannerIndex].hide(),this.stopCountBannerTime()))}static countBannerTime(){this.bannerTimesArr[this.bannerIndex]+=.1,this.bannerTimesArr[this.bannerIndex]>=h.jsonConfig.refresh_banner_time&&(this.bannerAds[this.bannerIndex]&&this.bannerAds[this.bannerIndex].hide(),this.bannerTimesArr[this.bannerIndex]=0,this.bannerShowCount[this.bannerIndex]++,this.bannerShowCount[this.bannerIndex]>=h.jsonConfig.updateBanner&&(this.bannerShowCount[this.bannerIndex]=0,this.bannerAds[this.bannerIndex]&&this.bannerAds[this.bannerIndex].destroy(),this.bannerAds[this.bannerIndex]=null,this.bannerAds[this.bannerIndex]=this.createBannerAd(this.bannerIndex)),this.bannerIndex++,this.bannerIndex>=this.bannerIdArr.length&&(this.bannerIndex=0),this.showBannerAd())}static stopCountBannerTime(){Laya.timer.clear(this,this.countBannerTime)}static createBannerAd(e,t=!1){if(!Laya.Browser.onWeiXin)return;let i=this.getSystemInfoSync(),a=Laya.Browser.window.wx.createBannerAd({adUnitId:this.bannerIdArr[e],style:{top:.8*i.screenHeight,width:300,left:i.screenWidth/2-150},adIntervals:30});return a.onLoad(()=>{t&&a.show(),this.bannerErrorArr[e]=!1,console.log("Banner广告加载成功")}),a.onError(t=>{this.bannerErrorArr[e]=!0,console.error("Banner广告加载失败",JSON.stringify(t))}),a.onResize(e=>{let t=a.style.realHeight+.1;a.style.top=i.screenHeight-t}),a}static createVideoAd(){if(Laya.Browser.onWeiXin){var e,t=this;null!=(e=this.videoAd)&&(e.offLoad(onLoadVideo),e.offError(onErrorVideo),e.offClose(onCloseVideo)),(e=Laya.Browser.window.wx.createRewardedVideoAd({adUnitId:t.videoId[0]})).onLoad(onLoadVideo),e.onError(onErrorVideo),e.onClose(onCloseVideo),this.videoAd=e}function onLoadVideo(){console.log("video 加载成功"),t.isExistVideoAd=!0}function onErrorVideo(e){console.error("video 加载错误",e),t.isExistVideoAd=!1}function onCloseVideo(e){!!(e&&e.isEnded||void 0===e)&&(t.videoFinishCallback&&t.videoFinishCallback(),t.videoFinishCallback=null),t.videoCancelCallback&&t.videoCancelCallback(),t.videoCancelCallback=null}}static showVideoAd(e,t){if(!Laya.Browser.onWeiXin)return e&&e(),void(t&&t());if(!Laya.Browser.onWeiXin)return;let i=this;if(this.videoFinishCallback=e,this.videoCancelCallback=t,this.isExistVideoAd||this.createVideoAd(),Laya.Browser.onWeiXin){var a=this.videoAd;a.show().then(()=>{}).catch(e=>{a.load().then(()=>a.show()).catch(e=>{i.videoCancelCallback&&i.videoCancelCallback(),i.videoCancelCallback=null})})}}static destroyVideoAd(){this.videoAd&&(this.videoAd.destroy(),this.videoAd=null)}static initGridAD(){Laya.Browser.onWeiXin&&(this.createFullGrid(),this.createBottomGrid(),this.createSideGrid(),this.createSingleGrid())}static createFullGrid(){Laya.Browser.onWeiXin&&(this.fullGridAd&&(this.fullGridAd.destroy(),this.fullGridAd=null),this.fullGridAd=Laya.Browser.window.wx.createCustomAd({adUnitId:this.fullGridId[0],adIntervals:30,style:{left:0,top:this.getSystemInfoSync().screenHeight/2-this.getSystemInfoSync().screenWidth/2-50,width:this.getSystemInfoSync().screenWidth}}),this.fullGridAd.onError(e=>{this.isFullGridAdLoaded=!0,this.fullGridError=!0,console.log("全屏格子加载失败:",JSON.stringify(e))}),this.fullGridAd.onLoad(()=>{this.isFullGridAdLoaded=!0,this.fullGridError=!1}))}static visibleFullGridAd(e=!0){Laya.Browser.onWeiXin&&this.fullGridAd&&!this.fullGridError&&(e?this.fullGridAd.show():this.fullGridAd.hide())}static getIsFullGridAdError(){return this.fullGridError&&this.createFullGrid(),this.fullGridError}static createBottomGrid(){this.bottomGridAd&&(this.bottomGridAd.destroy(),this.bottomGridAd=null),this.bottomGridAd=Laya.Browser.window.wx.createCustomAd({adUnitId:this.bottomGridId[0],adIntervals:30,style:{left:0,top:this.getSystemInfoSync().screenHeight-110,width:this.getSystemInfoSync().screenWidth}}),this.bottomGridAd.onError(e=>{this.bottomGridError=!0,console.log("底部格子加载失败:",JSON.stringify(e))}),this.bottomGridAd.onLoad(()=>{this.bottomGridError=!1})}static visibleBottomGridAd(e=!0){Laya.Browser.onWeiXin&&(this.bottomGridError?this.createBottomGrid():this.bottomGridAd&&(e?this.bottomGridAd.show():this.bottomGridAd.hide()))}static createSideGrid(){for(let e=0;e<this.sideGridAd.length;e++)this.sideGridAd[e].destroy(),this.sideGridAd=[];for(let e=0;e<2;e++){let t=Laya.Browser.window.wx.createCustomAd({adUnitId:this.sideGridId[0],adIntervals:30,style:{left:0==e?0:this.getSystemInfoSync().screenWidth-65,top:this.getSystemInfoSync().screenHeight/2-220}});t.onError(e=>{console.log("屏幕侧格子加载失败:",JSON.stringify(e))}),t.onLoad(()=>{this.sideGridAd.push(t)})}}static visibleSideGridAd(e=!0){if(Laya.Browser.onWeiXin)if(this.sideGridAd.length<=0)this.createSideGrid();else for(let t=0;t<this.sideGridAd.length;t++)e?this.sideGridAd[t].show():this.sideGridAd[t].hide()}static createSingleGrid(){for(let e=0;e<this.singleGridAd.length;e++)this.singleGridAd[e].destroy(),this.singleGridAd=[];for(let e=0;e<2;e++){let t=Laya.Browser.window.wx.createCustomAd({adUnitId:this.singleGridId[0],adIntervals:30,style:{left:0==e?0:this.getSystemInfoSync().screenWidth-65,top:120}});t.onError(e=>{console.log("屏幕单格子加载失败:",JSON.stringify(e))}),t.onLoad(()=>{this.singleGridAd.push(t)})}}static visibleSingleGridAd(e=!0){if(Laya.Browser.onWeiXin)if(this.singleGridAd.length<=0)this.createSingleGrid();else for(let t=0;t<this.singleGridAd.length;t++)e?this.singleGridAd[t].show():this.singleGridAd[t].hide()}static createInterstitialAd(){Laya.Browser.onWeiXin&&(this.intersititialAd&&(this.intersititialAd.offError(),this.intersititialAd.offLoad(),this.intersititialAd.offClose(),this.intersititialAd.destroy(),this.intersititialAd=null),this.intersititialAd=Laya.Browser.window.wx.createInterstitialAd({adUnitId:this.interstitialId[0]}),this.intersititialAd.onError(e=>{this.intersititialError=!0,console.log("插屏广告加载失败:",JSON.stringify(e))}),this.intersititialAd.onLoad(()=>{this.intersititialError=!1}),this.intersititialAd.onClose(()=>{this.intersititialCB&&this.intersititialCB()}),this.intersititialAd.load())}static showInterstitialAd(e){if(!Laya.Browser.onWeiXin||!this.intersititialAd||this.intersititialError)return this.intersititialError&&this.createInterstitialAd(),void(e&&e());this.intersititialCB=e,this.intersititialAd.show().then(()=>{}).catch(e=>{this.intersititialCB&&this.intersititialCB()})}static shuffleArr(e){let t=e.length;for(;t;){let i=Math.floor(Math.random()*t--);[e[i],e[t]]=[e[t],e[i]]}return e}}o.bannerIdArr=[],o.videoId=[],o.fullGridId=[],o.bottomGridId=[],o.sideGridId=[],o.singleGridId=[],o.interstitialId=[],o.bannerAds=[],o.bannerIndex=0,o.bannerTimesArr=[],o.bannerShowCount=[],o.bannerErrorArr=[],o.isExistVideoAd=!1,o.fullGridAd=null,o.fullGridError=!1,o.isFullGridAdLoaded=!1,o.bottomGridAd=null,o.bottomGridError=!1,o.sideGridAd=[],o.singleGridAd=[],o.intersititialAd=null,o.intersititialCB=null,o.intersititialError=!1;class h{static randTouchProgress(){this.wuchuProgressValue<.19?this.wuchuProgressValue=this.getRangeNumer(.08,.3):this.wuchuProgressValue=this.getRangeNumer(this.wuchuProgressValue-.19+.08,this.wuchuProgressValue-.19+.3)}static getRangeNumer(e,t){return Math.random()*(t-e)+e}static bannerShowHide(){o.hideBannerAd(),Laya.timer.once(1e3,this,()=>{o.showBannerAd(),Laya.timer.once(800,this,()=>{this.bannerShowHide()})})}static videoBannerShowHide(){h.visibleVideoBanner(!1,!1),Laya.timer.once(1e3,this,()=>{h.visibleVideoBanner(!0,!1),Laya.timer.once(800,this,()=>{this.videoBannerShowHide()})})}static init(e){this.randTouchProgress(),Laya.Browser.onWeiXin?Laya.loader.load("WXSDK/FDConfig.json",Laya.Handler.create(this,t=>{h.version=t.version,h.appid=t.appid,h.secret=t.secret,this.getConfig(e)}),null,Laya.Loader.JSON):e&&e()}static loadGame(e){this.showReMen(()=>{this.showBox1(e)})}static showHomeUI(e){e?Laya.Scene.open(d.HomeUI,!1):Laya.Scene.close(d.HomeUI)}static showHomeUIReMen(e){Laya.Scene.open(d.Remen,!1,{ccb:e})}static showReMen(e){this.showRemen?Laya.Scene.open(d.Remen,!1,{ccb:e}):e&&e()}static showStartReMen(e){this.startRemen?Laya.Scene.open(d.Remen,!1,{ccb:e}):e&&e()}static showEndReMen(e){this.endRemen?Laya.Scene.open(d.Remen,!1,{ccb:e,showAdPic:this.endRemen_switch}):e&&e()}static showBox1(e){this.firstBox?Laya.Scene.open(d.Box1,!1,{ccb:e,type:this.firstBox_switch?c.Box_VideoBanner:c.Box_Banner}):e&&e()}static showBox2(e){this.bannerBox?Laya.Scene.open(d.Box1,!1,{ccb:e,type:this.bannerBox_switch?c.Box_VideoBanner:c.Box_Banner}):e&&e()}static visibleVideoBanner(e,t=!0){e?Laya.Scene.open(d.VideoBanner,!1,{showFinger:t}):Laya.Scene.close(d.VideoBanner)}static showVirtualWxpage(e){this.showVitualWx&&Laya.Browser.onWeiXin?Laya.Browser.window.wx.showModal({title:"提示",content:"未观看完广告无法获取奖励，是否继续？",success:t=>{this.showVirtualCount<this.jsonConfig.vitualWx_count?(this.showVirtualCount++,o.showVideoAd(null,()=>{this.showVirtualWxpage(e)})):(this.showVirtualCount=0,e&&e())}}):e&&e()}static inHomePage(e){this.showHomeUI(!0),o.showInterstitialAd(),o.visibleSideGridAd(),o.showBannerAd(),e&&e()}static inShop(){this.showHomeUI(!1),o.hideBannerAd(),o.visibleSideGridAd(!1),o.visibleBottomGridAd(!1)}static startGame(e){this.showHomeUI(!1),o.hideBannerAd(),o.visibleSideGridAd(!1),o.visibleBottomGridAd(!1),o.showInterstitialAd(()=>{this.showStartReMen(()=>{this.showBox2(()=>{this.showVirtualWxpage(e)})})})}static inGame(){o.showBannerAd(),o.visibleSingleGridAd()}static showGameOver(e){this.visibleVideoBanner(!1),o.hideBannerAd(),o.visibleSingleGridAd(!1),this.showEndReMen(e)}static inFinish(e){o.showInterstitialAd(),o.visibleSideGridAd(),o.hideBannerAd(),this.endBanner?(this.endBanner_switch?this.videoBannerShowHide():this.bannerShowHide(),e&&(e.bottom=20)):(e&&(e.bottom=300),o.showBannerAd())}static closeFinish(e){Laya.timer.clearAll(this),o.visibleBottomGridAd(!1),o.visibleSideGridAd(!1),this.visibleVideoBanner(!1),o.hideBannerAd(),this.gameCount++,this.loadGame(()=>{Laya.timer.once(100,this,e)})}static get allowScene(){if(Laya.Browser.onWeiXin&&this.jsonConfig.sceneList){let e=Laya.Browser.window.wx.getLaunchOptionsSync().scene.toString();return-1!=this.jsonConfig.sceneList.split(",").indexOf(e)}return!0}static getConfig(e){window.wxsdk.init({version:h.version,appid:h.appid,secret:h.secret,share:{title:"你能过得了这一关吗？",image:"https://game-oss.smallshark.cn/game/20211119/1216327431258.jpg?imageslim"}}),window.wxsdk.onInit(()=>{console.log("wxsdk初始化成功:",window.wxsdk);let t=new l;for(let e in t)t[e]=window.wxsdk.conf[e];this.jsonConfig=window.wxsdk.conf,console.log("config:",this.jsonConfig),this.jsonConfig.channel_ditch&&!window.wxsdk.user.channel&&(this.jsonConfig.allowMistouch=!1,console.log("config1:",this.jsonConfig)),o.bannerIdArr=window.wxsdk.conf.bannerIds?window.wxsdk.conf.bannerIds.split(","):[],o.videoId=window.wxsdk.conf.videoIds?window.wxsdk.conf.videoIds.split(","):[],o.fullGridId=window.wxsdk.conf.fullGridIds?window.wxsdk.conf.fullGridIds.split(","):[],o.bottomGridId=window.wxsdk.conf.bottomGridIds?window.wxsdk.conf.bottomGridIds.split(","):[],o.sideGridId=window.wxsdk.conf.sideGridIds?window.wxsdk.conf.sideGridIds.split(","):[],o.singleGridId=window.wxsdk.conf.singleGridIds?window.wxsdk.conf.singleGridIds.split(","):[],o.interstitialId=window.wxsdk.conf.interstitialIds?window.wxsdk.conf.interstitialIds.split(","):[],o.inidAd(()=>{e&&e()})}),window.wxsdk.login()}static get isVersionValid(){return!!Laya.Browser.onWeiXin&&this.version.split(".")[2]<=this.jsonConfig.version.split(".")[2]}static get canTrapAll(){return!!Laya.Browser.onWeiXin&&(this.allowScene&&this.jsonConfig.allowMistouch&&this.version.split(".")[2]<=this.jsonConfig.version.split(".")[2])}static get bannerBox(){return!!Laya.Browser.onWeiXin&&(this.canTrapAll&&this.jsonConfig.bannerBox)}static get showRemen(){return!!Laya.Browser.onWeiXin&&this.jsonConfig.showRemen}static get showVitualWx(){return!!Laya.Browser.onWeiXin&&(this.canTrapAll&&this.jsonConfig.showVitualWx)}static get remenBanner(){return!!Laya.Browser.onWeiXin&&(this.canTrapAll&&this.jsonConfig.remenBanner)}static get endBanner(){return!!Laya.Browser.onWeiXin&&(this.canTrapAll&&this.jsonConfig.endBanner)}static get startRemen(){return!!Laya.Browser.onWeiXin&&this.jsonConfig.startRemen}static get endRemen(){return!!Laya.Browser.onWeiXin&&this.jsonConfig.endRemen}static get endRemen_switch(){return!!Laya.Browser.onWeiXin&&(this.canTrapAll&&this.jsonConfig.endRemen_switch)}static get firstBox_switch(){return!!Laya.Browser.onWeiXin&&this.jsonConfig.firstBox_switch}static get firstBox(){return!!Laya.Browser.onWeiXin&&this.jsonConfig.firstBox}static get bannerBox_switch(){return!!Laya.Browser.onWeiXin&&this.jsonConfig.bannerBox_switch}static get endBanner_switch(){return!!Laya.Browser.onWeiXin&&this.jsonConfig.endBanner_switch}static get homeViedo(){return!!Laya.Browser.onWeiXin&&this.jsonConfig.homeViedo}}h.version="1.0.7",h.appid="",h.secret="",h.wuchuProgressValue=0,h.wuchuProgressStepAdd=.1,h.wuchuProgressFrameSub=.0032,h.gameCount=1,h.showVirtualCount=0;class l{}var d,c;!function(e){e.Remen="FDScene/Remen.scene",e.Box1="FDScene/Box1.scene",e.VideoBanner="FDScene/VideoBanner.scene",e.HomeUI="FDScene/HomeUI.scene"}(d||(d={})),function(e){e[e.Box_Banner=0]="Box_Banner",e[e.Box_VideoBanner=1]="Box_VideoBanner"}(c||(c={}));class y extends Laya.Scene{constructor(){super(),this.touchStartPosX=0}onOpened(){y.Share=this,this.size(Laya.stage.displayWidth,Laya.stage.displayHeight),Laya.timer.frameLoop(1,this,this.myUpdate),this.gradeNum.value=i.getPlayerData().grade.toString(),n.addClickEvent(this.giveupBtn,this,this.giveupBtnCB),this.touchBtn.on(Laya.Event.MOUSE_DOWN,this,this.touchStart),this.touchBtn.on(Laya.Event.MOUSE_MOVE,this,this.touchMove),this.touchBtn.on(Laya.Event.MOUSE_UP,this,this.touchEnd),h.inGame()}onClosed(){Laya.timer.clearAll(this)}giveupBtnCB(){g.Share.gameOver(!1)}touchStart(e){g.Share.isStartGame=!0,this.guideAni.visible=!1;let t=e.stageX;this.touchStartPosX=t}touchMove(e){let t=e.stageX;Math.abs(t-this.touchStartPosX)<20||(t-this.touchStartPosX>0?g.Share._playerCrl.moveDir=-1:g.Share._playerCrl.moveDir=1,this.touchStartPosX=t)}touchEnd(e){g.Share._playerCrl.moveDir=0}fixPlayerHp(){if(!g.Share._player)return;let e=new Laya.Vector4(0,0,0),t=g.Share._player.transform.position.clone();t.y+=2.5,g.Share._camera.viewport.project(t,g.Share._camera.projectionViewMatrix,e),this.playerHp.pos(e.x/Laya.stage.clientScaleX,e.y/Laya.stage.clientScaleY),this.playerHp.value=g.Share._playerCrl.hp/g.Share._playerCrl.hpMax,this.playerHp.getChildByName("num").value=g.Share._playerCrl.hp.toString()}fixEnemyHp(){if(!g.Share._enemy)return;let e=new Laya.Vector4(0,0,0),t=g.Share._enemy.transform.position.clone();t.y+=2.5,g.Share._camera.viewport.project(t,g.Share._camera.projectionViewMatrix,e),this.enemyHp.pos(e.x/Laya.stage.clientScaleX,e.y/Laya.stage.clientScaleY),this.enemyHp.value=g.Share._enemyCrl.hp/g.Share._enemyCrl.hpMax,this.enemyHp.getChildByName("num").value=g.Share._enemyCrl.hp.toString()}createPlayerDmg(e){let t=new Laya.FontClip("gameUI/yxz_sz_2.png","0123456789+-");t.anchorX=.5,t.anchorY=.5,t.value="-"+e.toString(),this.addChild(t);let i=new Laya.Vector4(0,0,0),a=g.Share._player.transform.position.clone();a.y+=3.5,g.Share._camera.viewport.project(a,g.Share._camera.projectionViewMatrix,i),t.pos(i.x/Laya.stage.clientScaleX,i.y/Laya.stage.clientScaleY),n.tMove2D(t,t.x,t.y-150,1e3,()=>{t.destroy()})}createEnemyDmg(e){let t=new Laya.FontClip("gameUI/yxz_sz_1.png","0123456789+-");t.anchorX=.5,t.anchorY=.5,t.value="-"+e.toString(),this.addChild(t);let i=new Laya.Vector4(0,0,0),a=g.Share._enemy.transform.position.clone();a.y+=3.5,g.Share._camera.viewport.project(a,g.Share._camera.projectionViewMatrix,i),t.pos(i.x/Laya.stage.clientScaleX,i.y/Laya.stage.clientScaleY),n.tMove2D(t,t.x,t.y-150,1e3,()=>{t.destroy()})}myUpdate(){this.fixPlayerHp(),this.fixEnemyHp()}}class m extends Laya.Script{constructor(){super(),this.myOwner=null,this.hpMax=10,this.hp=10,this.powerMax=10,this.power=10,this.moveDir=0,this.speed=.08,this.canMove=!0,this.hadLeg=!1,this.isPlayer=!1}onAwake(){this.myOwner=this.owner}initData(e,t,i=!1){if(this.isPlayer=i,this.hpMax=e,this.hp=e,this.powerMax=t,this.power=t,this.myOwner.getChildByName("FLegNode").numChildren>0||this.myOwner.getChildByName("BLegNode").numChildren>0){let e=this.myOwner.transform.position.clone();e.y+=1.8,this.myOwner.transform.position=e,this.hadLeg=!0}}moveX(){if(g.Share.isGameOver||!this.canMove)return;let e=this.speed;this.hadLeg||(e*=.5),this.moveDir>0?this.myOwner.transform.translate(new Laya.Vector3(e,0,0),!1):this.moveDir<0&&this.myOwner.transform.translate(new Laya.Vector3(-e,0,0),!1)}hurtCB(e){this.canMove=!1;let t=this.myOwner.transform.position.clone();if(t.x+=this.isPlayer?4:-4,n.TmoveTo(this.myOwner,200,t,()=>{this.canMove=!0}),this.isPlayer?y.Share.createPlayerDmg(e):y.Share.createEnemyDmg(e),this.hp-=e,this.hp<=0){this.hp=0,g.Share.gameOver(!this.isPlayer);let e=this.myOwner.transform.position.clone();e.y=1,e.z-=1.5,n.TmoveTo(this.myOwner,800,e,null);let t=this.myOwner.transform.rotationEuler.clone();return t.x=this.isPlayer?-90:90,void n.RotateTo(this.myOwner,800,t,null)}}onUpdate(){if(!g.Share.isGameOver&&g.Share.isStartGame)if(this.moveX(),this.myOwner.transform.position.x<-30){let e=this.myOwner.transform.position.clone();e.x=-30,this.myOwner.transform.position=e}else if(this.myOwner.transform.position.x>30){let e=this.myOwner.transform.position.clone();e.x=30,this.myOwner.transform.position=e}}}class g{constructor(){this.camStartPos=new Laya.Vector3(0,0,0),this.camStartRotation=null,this._cameraCrl=null,this.startCamField=60,this.isStartGame=!1,this.isGameOver=!1,this.isWin=!1,this.isPause=!1,this.isFinish=!1,this.isMeet=!1,this._levelNode=null,this._player=null,this._playerCrl=null,this._enemy=null,this._enemyCrl=null,this.playerHp=10,this.playerPower=10,this.enemyHp=10,this.enemyPower=10,Laya.Browser.onWeiXin||localStorage.clear(),g.Share=this,i.getPlayerData(),Laya.Browser.onWeiXin&&(Laya.Browser.window.wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),Laya.Browser.window.wx.onShareAppMessage(()=>({title:"怪物对决",imageUrl:""}))),Laya.Scene.open("MyScenes/LoadingUI.scene")}initScene(){Laya.Scene3D.load(a.UnityPath+"SampleScene.ls",Laya.Handler.create(this,this.onLoadScene))}onLoadScene(e){Laya.Scene.open("MyScenes/StartUI.scene"),this._scene=Laya.stage.addChild(e),Laya.stage.setChildIndex(this._scene,0),this._camera=this._scene.getChildByName("Main Camera"),this._light=this._scene.getChildByName("Directional Light"),this._light.shadowMode=Laya.ShadowMode.SoftLow,this._light.shadowDistance=100,this._light.shadowResolution=1024,this._light.shadowCascadesMode=Laya.ShadowCascadesMode.NoCascades,this.camStartPos=this._camera.transform.position.clone(),this.camStartRotation=this._camera.transform.rotation.clone(),this._camera.fieldOfView=this.startCamField,this._cameraCrl=this._camera.addComponent(r),this._levelNode=this._scene.addChild(new Laya.Sprite3D)}gameStart(e,t,i){this._player=Laya.Sprite3D.instantiate(e,this._levelNode,!1),this._player.transform.position=new Laya.Vector3(10,1,0),this._playerCrl=this._player.addComponent(m),this._playerCrl.initData(t,i,!0),this.createEnemy(),Laya.timer.frameLoop(1,this,this.checkColl),Laya.Scene.open("MyScenes/GameUI.scene")}createEnemy(){let e=g.Share._scene.getChildByName("BodyNode").getChildAt(n.GetRandom(0,5));this._enemy=Laya.Sprite3D.instantiate(e,this._levelNode,!1,new Laya.Vector3(0,0,0)),this._enemy.transform.position=new Laya.Vector3(-10,1,0),this._enemyCrl=this._enemy.addComponent(m),this._enemyCrl.moveDir=1,this._enemy.active=!0,this._enemy.transform.rotate(new Laya.Vector3(0,180,0),!0,!1);for(let e=0;e<5;e++)this.createEnemyItems(e);let t=n.GetRandom(10,30);this._enemyCrl.initData(i.getPlayerData().grade>=3?t:10,n.GetRandom(1,10))}createEnemyItems(e){let t=0,i=null,a=null,s=null;0==e?s=this._enemy.getChildByName("HeadNode"):1==e?s=this._enemy.getChildByName("WingNode"):2==e?s=this._enemy.getChildByName("TailNode"):3==e?s=this._enemy.getChildByName("FLegNode"):4==e&&(s=this._enemy.getChildByName("BLegNode")),i=this._scene.getChildByName(n.getRandomItemInArr(["HeadNode","LegNode","TailNode","WingsNode"])),t=n.GetRandom(0,i.numChildren-1),a=i.getChildAt(t);let r=Laya.Sprite3D.instantiate(a,s,!1,new Laya.Vector3(0,0,0));r.transform.localPosition=new Laya.Vector3,r.transform.localRotationEuler=new Laya.Vector3,r.active=!0}checkColl(){if(this.isGameOver||!this._player||!this._enemy||!this._playerCrl.canMove||!this._enemyCrl.canMove||!this.isStartGame)return;let e=this._player.transform.position.x,t=this._enemy.transform.position.x;if(Math.abs(e-t)<=4){a.DoVibrate(),s.instance.playSoundEffect("Hurt.mp3");let e=n.GetRandom(2,6),t=n.GetRandom(1,4);i.getPlayerData().grade>=3?(e*=1.5,t*=1.5):(t=1,e=3),this._playerCrl.hurtCB(Math.floor(t)),this._enemyCrl.hurtCB(Math.floor(e)),this.createHitFX()}Math.abs(e-t)<=6&&(this.isMeet=!0)}createHitFX(){let e=this._scene.getChildByName("T_Hit_1"),t=new Laya.Vector3;t.x=(g.Share._player.transform.position.x+g.Share._enemy.transform.position.x)/2,t.y=2.3,this._scene.getChildByName("T_Hit_1").transform.position=t,this._scene.getChildByName("T_Hit_1").transform.setWorldLossyScale(new Laya.Vector3(10,10,10)),this._scene.getChildByName("T_Hit_1").active=!0,e.particleSystem.play(),Laya.timer.once(300,this,()=>{this._scene.getChildByName("T_Hit_1").transform.position=new Laya.Vector3(0,1e5,0)})}createWinFX(){let e=Laya.Sprite3D.instantiate(this._scene.getChildByName("T_Confetti"),this._levelNode,!1),t=new Laya.Vector3;t.x=(g.Share._player.transform.position.x+g.Share._enemy.transform.position.x)/2,t.z+=2,e.transform.position=t,e.transform.setWorldLossyScale(new Laya.Vector3(3,3,3)),e.active=!0,Laya.timer.once(3e3,this,()=>{e&&e.destroy()})}gameOver(e){Laya.timer.clearAll(this),a.DoVibrate(!1),e?(s.instance.playSoundEffect("Win.mp3"),this.createWinFX()):s.instance.playSoundEffect("Lose.mp3"),this.isWin=e,this.isGameOver=!0,this.isStartGame=!1,Laya.Scene.close("MyScenes/GameUI.scene"),Laya.timer.once(2e3,this,()=>{h.showGameOver(),Laya.Scene.open("MyScenes/FinishUI.scene")})}restartGame(){this.isStartGame=!1,this.isGameOver=!1,this.isWin=!1,this.isPause=!1,this._camera.fieldOfView=this.startCamField,this.isFinish=!1,this.isMeet=!1,this._camera.transform.position=this.camStartPos,this._camera.transform.rotation=this.camStartRotation,this._levelNode.destroyChildren()}}class w extends Laya.Scene{constructor(){super(...arguments),this.progressValue=0,this.clickCount=1,this.hadShowBanner=!1,this.onShowCB=null,this.type=c.Box_Banner}onAwake(){this.size(Laya.stage.width,Laya.stage.height)}onOpened(e){e&&e.ccb&&(this.ccb=e.ccb),e&&e.type&&(this.type=e.type),o.hideBannerAd(),this.btnPress.on(Laya.Event.CLICK,this,this.onPress),Laya.timer.frameLoop(1,this,this.reFreshUI),this.onShowCB=(()=>{this.close()}),Laya.Browser.onWeiXin&&Laya.Browser.window.wx.onShow(this.onShowCB)}onClosed(){Laya.Browser.onWeiXin&&Laya.Browser.window.wx.offShow(this.onShowCB),o.hideBannerAd(),Laya.timer.clearAll(this),h.visibleVideoBanner(!1,!1),this.ccb&&this.ccb()}onPress(){this.progressValue+=h.wuchuProgressStepAdd,Laya.Tween.to(this.btnPress,{scaleX:1.2,scaleY:1.2},100,null,Laya.Handler.create(this,()=>{Laya.Tween.to(this.btnPress,{scaleX:1,scaleY:1},100,null)})),this.progressValue>=h.wuchuProgressValue&&!this.hadShowBanner&&(this.hadShowBanner=!0,this.clickCount++,this.type==c.Box_Banner?o.showBannerAd():h.visibleVideoBanner(!0,!1),h.randTouchProgress(),Laya.timer.once(2e3,this,()=>{this.clickCount>=h.jsonConfig.bannerBox_count?this.close():(this.type==c.Box_Banner?o.hideBannerAd():h.visibleVideoBanner(!1,!1),this.hadShowBanner=!1,this.pressBar.value=0,this.progressValue=0)})),Laya.Tween.to(this.imgSushi,{rotation:30},100,null,Laya.Handler.create(this,()=>{Laya.Tween.to(this.imgSushi,{rotation:0},100)})),this.pressBar.value=this.progressValue}reFreshUI(){this.progressValue>h.wuchuProgressFrameSub&&(this.progressValue-=h.wuchuProgressFrameSub),this.pressBar.value=this.progressValue,this.light.rotation+=1}}class u extends Laya.Scene{constructor(){super(...arguments),this.progressValue=0,this.wuchuCount=1}onAwake(){this.size(Laya.stage.width,Laya.stage.height)}onOpened(e){e&&e.count&&(this.wuchuCount=e.count),e&&e.closeCB&&(this.closeCB=e.closeCB),o.visibleFullGridAd(!1),this.btnPress.on(Laya.Event.CLICK,this,this.onPress),Laya.timer.frameLoop(1,this,this.reFreshUI),this.tweenScale(),o.showBannerAd()}onClosed(){o.hideBannerAd(),o.visibleFullGridAd(!1),Laya.timer.clearAll(this),Laya.Tween.clearAll(this.imgEffect),this.closeCB&&this.closeCB()}onPress(){this.progressValue+=h.wuchuProgressStepAdd,Laya.Tween.to(this.imgGift,{scaleX:1.2,scaleY:1.2},100,null,Laya.Handler.create(this,()=>{Laya.Tween.to(this.imgGift,{scaleX:1,scaleY:1},100,null)})),this.progressValue>=h.wuchuProgressValue&&(o.visibleFullGridAd(),h.randTouchProgress(),Laya.timer.once(2e3,this,()=>{this.wuchuCount--,this.wuchuCount>0?o.visibleFullGridAd(!1):this.close()}))}reFreshUI(){this.progressValue>h.wuchuProgressFrameSub&&(this.progressValue-=h.wuchuProgressFrameSub),this.light.rotation+=1}tweenScale(){var e=200;Laya.Tween.to(this.imgEffect,{scaleX:1.2,scaleY:1.2,alpha:.8},e),Laya.timer.once(e,this,()=>{Laya.Tween.to(this.imgEffect,{scaleX:1,scaleY:1,alpha:1},e),Laya.timer.once(e,this,this.tweenScale)})}}class L extends Laya.Scene{constructor(){super()}onOpened(e){this.size(Laya.stage.displayWidth,Laya.stage.displayHeight),this.remenBtn.on(Laya.Event.CLICK,this,this.remenCB),this.videoBtn.on(Laya.Event.CLICK,this,this.videoCB),this.videoBtn.active=h.homeViedo}onClosed(){}remenCB(){o.hideBannerAd(),o.visibleSideGridAd(!1),h.showHomeUIReMen(()=>{o.showBannerAd(),o.visibleSideGridAd(!0)})}videoCB(){o.showVideoAd(()=>{Laya.Browser.window.wx.showToast({title:"恭喜获得1000金币！",duration:2e3,mask:!1,icon:"none"})},null)}}class p extends Laya.Scene{constructor(){super(),this.ccb=null,this.onShowCB=null,this.clickCount=0}onAwake(){this.size(Laya.stage.displayWidth,Laya.stage.displayHeight)}onOpened(e){e&&e.ccb&&(this.ccb=e.ccb),this.btnContinue.on(Laya.Event.CLICK,this,this.btnContinueCB),this.adPic.on(Laya.Event.CLICK,this,this.videoBtn),this.onShowCB=(()=>{this.close()}),Laya.Browser.onWeiXin&&Laya.Browser.window.wx.onShow(this.onShowCB),e&&e.showAdPic?this.adPic.visible=!0:(this.adPic.visible=!1,o.getIsFullGridAdError()?h.canTrapAll&&o.getIsFullGridAdError()&&(this.adPic.visible=!0):o.visibleFullGridAd()),h.remenBanner&&this.bannerShowHide(),o.bannerIndex=0}onClosed(){Laya.Browser.onWeiXin&&Laya.Browser.window.wx.offShow(this.onShowCB),Laya.timer.clearAll(this),o.hideBannerAd(),o.visibleFullGridAd(!1),Laya.timer.once(100,this,()=>{this.ccb&&this.ccb()})}bannerShowHide(){o.hideBannerAd(),Laya.timer.once(1e3,this,()=>{o.showBannerAd(),Laya.timer.once(800,this,()=>{this.bannerShowHide()})})}videoBtn(){o.showVideoAd()}btnContinueCB(){this.clickCount++,this.clickCount>=h.jsonConfig.remenBanner_count&&this.close()}}class f extends Laya.Scene{constructor(){super()}onOpened(e){this.size(Laya.stage.displayWidth,Laya.stage.displayHeight),this.banner1.on(Laya.Event.CLICK,this,this.adBtnCB),this.banner2.on(Laya.Event.CLICK,this,this.adBtnCB);let t=!1;e&&e.showFinger&&(t=t),this.finger.visible=t,this.banner1.visible=Math.random()>.5,this.banner2.visible=!this.banner1.visible}onClosed(){}adBtnCB(){o.showVideoAd(()=>{Laya.Browser.window.wx.showToast({title:"恭喜获得1000金币！",duration:2e3,mask:!1,icon:"none"})},null)}}class S extends Laya.Scene{constructor(){super(),this.freeSkin=[]}onOpened(){this.size(Laya.stage.displayWidth,Laya.stage.displayHeight),this.gradeNum.value=i.getPlayerData().grade.toString();let e=g.Share.isWin;this.winTitle.visible=e,this.loseTitle.visible=!e,this.nextBtn.visible=e,this.restartBtn.visible=!e,e&&i.unlockBody(),n.addClickEvent(this.nextBtn,this,this.closeCB),n.addClickEvent(this.restartBtn,this,this.closeCB);let t=i.getInvalidSkins();if(t.length<=0||!e)this.unlockNode.visible=!1;else{this.freeSkin=n.getRandomItemInArr(t);let e=this.unlockNode.getChildByName("icon"),a=this.unlockNode.getChildByName("name"),s="",r=this.freeSkin[1]+1<10?"0"+(this.freeSkin[1]+1):this.freeSkin[1]+1;0==this.freeSkin[0]?(s="items/Head_"+r+".png",a.text=i.getHeadName(this.freeSkin[1]),i.getDataByType(0)[this.freeSkin[1]]=1):1==this.freeSkin[0]?(s="items/Leg_"+r+".png",a.text=i.getLegName(this.freeSkin[1]),i.getDataByType(1)[this.freeSkin[1]]=1):2==this.freeSkin[0]?(s="items/Tail_"+r+".png",a.text=i.getTailName(this.freeSkin[1]),i.getDataByType(2)[this.freeSkin[1]]=1):3==this.freeSkin[0]&&(s="items/Wings_"+r+".png",a.text=i.getWingsName(this.freeSkin[1]),i.getDataByType(3)[this.freeSkin[1]]=1),e.skin=s,i.setPlayerData()}h.inFinish(e?this.nextBtn:this.restartBtn)}onClosed(){}closeCB(){h.closeFinish(()=>{g.Share.isWin&&(i.getPlayerData().grade++,i.setPlayerData()),g.Share.restartGame(),Laya.Scene.open("MyScenes/StartUI.scene")})}}class B extends Laya.Script{constructor(){super()}onAwake(){let e=this.owner;e.y=e.y*Laya.stage.displayHeight/1334}}class C extends Laya.Scene{constructor(){super()}onOpened(){this.size(Laya.stage.displayWidth,Laya.stage.displayHeight),Laya.Browser.onWeiXin||localStorage.clear(),h.init(()=>{Laya.Browser.onWeiXin?this.loadSubpackage():this.loadRes()}),Laya.timer.frameLoop(1,this,()=>{this.bar.value+=.01})}onClosed(){}loadSubpackage(){Laya.Browser.window.wx.loadSubpackage({name:"unity",success:e=>{this.loadRes()},fail:e=>{this.loadSubpackage()}}).onProgressUpdate(e=>{console.log("下载进度",e.progress),console.log("已经下载的数据长度",e.totalBytesWritten),console.log("预期需要下载的数据总长度",e.totalBytesExpectedToWrite)})}loadRes(){var e=[a.UnityPath+"SampleScene.ls"];Laya.loader.create(e,Laya.Handler.create(this,this.onComplete),Laya.Handler.create(this,this.onProgress))}onComplete(){h.loadGame(()=>{g.Share.initScene()})}onProgress(e){}}class x extends Laya.Scene{constructor(){super(),this.totalDna=175,this.curHp=0,this.curPower=0,this.selectType=0,this.selectIndex=0,this.itemCount=0,this.hadShowAd=!1,this.canStart=!1,this.scene3D=null,this.light=null,this.camera=null,this.body=null,this.itemSp=null,this.choosBodyId=0,this.choosItemId=0,this.itemNode=null}onOpened(){this.size(Laya.stage.displayWidth,Laya.stage.displayHeight),this.gradeNum.value=i.getPlayerData().grade.toString(),Laya.timer.frameLoop(1,this,this.myUpdate),n.addClickEvent(this.nextBtn,this,this.nextBtnCB),n.addClickEvent(this.adBtn,this,this.adBtnCB),this.init3DScene(),this.initBodyList(),this.initItemList(),this.nextBtn.getChildAt(0).visible=i.getPlayerData().grade<=1}onClosed(){Laya.timer.clearAll(this),this.scene3D.destroy()}updateCurData(e,t,a){if(this.totalDna-=a,this.curHp+=e,this.curPower+=t,this.dnaNum.text=this.totalDna.toString(),this.hpNum.text=this.curHp.toString(),this.powerNum.text=this.curPower.toString(),this.nextBtn.gray=!1,this.canStart=!0,this.itemCount>=3){this.nextBtn.getChildAt(0).visible=i.getPlayerData().grade<=1}1==this.itemCount&&i.getPlayerData().grade<=1?(this.itemList.scrollTo(9),Laya.Tween.clearAll(this.finger),this.guide2()):2==this.itemCount&&i.getPlayerData().grade<=1&&(Laya.Tween.clearAll(this.finger),this.guide3())}init3DScene(){this.scene3D=Laya.stage.addChild(new Laya.Scene3D),Laya.stage.setChildIndex(this.scene3D,2),this.light=this.scene3D.addChild(new Laya.DirectionLight),this.light.color=new Laya.Vector3(1,1,1),this.light.transform.rotationEuler=new Laya.Vector3(0,180,0),this.camera=this.scene3D.addChild(new Laya.Camera(0,.1,1e3)),this.camera.transform.translate(new Laya.Vector3(0,0,-15)),this.camera.transform.rotate(new Laya.Vector3(0,180,0),!0,!1),this.camera.clearFlag=Laya.BaseCamera.CLEARFLAG_DEPTHONLY,this.camera.orthographicVerticalSize=20,this.camera.orthographic=!0,this.createBody(0)}createBody(e){this.body&&this.body.destroy();let t=g.Share._scene.getChildByName("BodyNode").getChildAt(e);this.body=Laya.Sprite3D.instantiate(t,this.scene3D,!1,new Laya.Vector3(0,0,0)),this.body.transform.position=new Laya.Vector3(0,4,0),this.body.active=!0}createItemSp(e,t){this.itemSp&&this.itemSp.destroy();let i=null,a=null;0==e?i=g.Share._scene.getChildByName("HeadNode"):1==e?i=g.Share._scene.getChildByName("LegNode"):2==e?i=g.Share._scene.getChildByName("TailNode"):3==e&&(i=g.Share._scene.getChildByName("WingsNode")),a=i.getChildAt(t),this.itemSp=Laya.Sprite3D.instantiate(a,this.scene3D,!1,new Laya.Vector3(0,0,0)),this.itemSp.transform.position=new Laya.Vector3(1,0,0),this.itemSp.getComponent(Laya.Animator).speed=0}initBodyList(){let e=[].concat(i.getPlayerData().bodyArr);for(let t=e.length-1;t>=0;t--)0==e[t]&&e.splice(t,1);this.bodyList.vScrollBarSkin="",this.bodyList.array=e,this.bodyList.repeatX=2,this.bodyList.repeatY=Math.floor(e.length/2),this.bodyList.renderHandler=Laya.Handler.create(this,this.onBodyListRender,null,!1)}onBodyListRender(e,t){if(t>=this.bodyList.array.length)return;var a=e.getChildByName("item");let s=a.getChildByName("selectIcon"),n=a.getChildByName("icon"),r=a.getChildByName("name");s.skin=t==this.choosBodyId?"selectUI/xz_dk_xzst3.png":"selectUI/xz_dk_xzst2.png";let o=t+1<10?"0"+(t+1).toString():(t+1).toString();n.skin="items/Body_"+o+".png",r.text=i.getBodyName(t),a.off(Laya.Event.CLICK,this,this.selectBody),a.on(Laya.Event.CLICK,this,this.selectBody,[t])}selectBody(e){s.instance.playSoundEffect("Click.mp3"),e!=this.choosBodyId&&(this.choosBodyId=e,this.createBody(e),this.initBodyList())}nextBtnCB(){if(this.bodyList.visible){this.bodyList.visible=!1,this.itemList.visible=!0,this.nextBtn.skin="selectUI/xz_btn_kszd.png",this.nextBtn.gray=!0,this.nextBtn.getChildAt(0).visible=!1,i.getPlayerData().grade<=1&&this.guide1()}this.canStart&&g.Share.gameStart(this.body,this.curHp,this.curPower)}createItem(e){this.itemNode&&this.itemNode.destroy();let t=g.Share._scene.getChildByName("BodyNode").getChildAt(e);this.itemNode=Laya.Sprite3D.instantiate(t,this.scene3D,!1,new Laya.Vector3(0,0,0)),this.itemNode.transform.position=new Laya.Vector3(0,4,0),this.itemNode.active=!0}updateItemList(){let e=[].concat(i.getPlayerData().headArr);e=(e=(e=e.concat(i.getPlayerData().legArr)).concat(i.getPlayerData().tailArr)).concat(i.getPlayerData().wingsArr),this.itemList.array=e}initItemList(){let e=[].concat(i.getPlayerData().headArr);e=(e=(e=e.concat(i.getPlayerData().legArr)).concat(i.getPlayerData().tailArr)).concat(i.getPlayerData().wingsArr),this.itemList.vScrollBarSkin="",this.itemList.array=e,this.itemList.repeatX=3,this.itemList.repeatY=Math.floor(e.length/3),this.itemList.renderHandler=Laya.Handler.create(this,this.onItemListRender,null,!1)}onItemListRender(e,t){if(t>=this.itemList.array.length)return;let a=0;var s=e.getChildByName("item");let n=s.getChildByName("icon"),r=s.getChildByName("name"),o=s.getChildByName("hpBar"),h=s.getChildByName("hpNum"),l=s.getChildByName("powerBar"),d=s.getChildByName("powerNum"),c=s.getChildByName("bottomBg"),y=c.getChildByName("dnaNum"),m=s.getChildByName("adBg"),g="",w=0;if(t<10){a=0,g="items/Head_"+((w=t)+1<10?"0"+(w+1).toString():(w+1).toString())+".png",r.text=i.getHeadName(w),o.value=i.getItemData().head[w][0]/20,h.value=i.getItemData().head[w][0],l.value=i.getItemData().head[w][1]/10,d.value=i.getItemData().head[w][1],y.value=i.getItemData().head[w][2],m.visible=0==i.getPlayerData().headArr[w],c.skin=this.totalDna>=i.getItemData().head[w][2]?"selectUI/xz_dk_xzbj3.png":"selectUI/xz_dk_xzbj2.png"}else if(t<20){a=1,g="items/Leg_"+((w=t-10)+1<10?"0"+(w+1).toString():(w+1).toString())+".png",r.text=i.getLegName(w),o.value=i.getItemData().leg[w][0]/20,h.value=i.getItemData().leg[w][0],l.value=i.getItemData().leg[w][1]/10,d.value=i.getItemData().leg[w][1],y.value=i.getItemData().leg[w][2],m.visible=0==i.getPlayerData().legArr[w],c.skin=this.totalDna>=i.getItemData().leg[w][2]?"selectUI/xz_dk_xzbj3.png":"selectUI/xz_dk_xzbj2.png"}else if(t<24){a=2,g="items/Tail_"+((w=t-20)+1<10?"0"+(w+1).toString():(w+1).toString())+".png",r.text=i.getTailName(w),o.value=i.getItemData().tail[w][0]/20,h.value=i.getItemData().tail[w][0],l.value=i.getItemData().tail[w][1]/10,d.value=i.getItemData().tail[w][1],y.value=i.getItemData().tail[w][2],m.visible=0==i.getPlayerData().tailArr[w],c.skin=this.totalDna>=i.getItemData().tail[w][2]?"selectUI/xz_dk_xzbj3.png":"selectUI/xz_dk_xzbj2.png"}else if(t<26){a=3,g="items/Wings_"+((w=t-24)+1<10?"0"+(w+1).toString():(w+1).toString())+".png",r.text=i.getWingsName(w),o.value=i.getItemData().wings[w][0]/20,h.value=i.getItemData().wings[w][0],l.value=i.getItemData().wings[w][1]/10,d.value=i.getItemData().wings[w][1],y.value=i.getItemData().wings[w][2],m.visible=0==i.getPlayerData().wingsArr[w],c.skin=this.totalDna>=i.getItemData().wings[w][2]?"selectUI/xz_dk_xzbj3.png":"selectUI/xz_dk_xzbj2.png"}n.skin=g,n.off(Laya.Event.MOUSE_DOWN,this,this.selecItemDown),n.off(Laya.Event.CLICK,this,this.selectItemUp),n.on(Laya.Event.MOUSE_DOWN,this,this.selecItemDown,[a,w]),n.on(Laya.Event.CLICK,this,this.selectItemUp,[a,w])}selecItemDown(e,t){s.instance.playSoundEffect("Click.mp3"),this.selectType=e,this.selectIndex=t,this.totalDna<this.getItemDataFromTypeIndex()[2]||0!=i.getDataByType(e)[t]&&(this.itemList.scrollBar.touchScrollEnable=!1,this.createItemSp(e,t),this.on(Laya.Event.MOUSE_MOVE,this,this.fullBtnMove),this.on(Laya.Event.MOUSE_UP,this,this.fullBtnEnd),Laya.Tween.clearAll(this.finger),this.finger.visible=!1)}selectItemUp(e,t){if(console.log("click"),0!=i.getDataByType(e)[t]);else{let a=()=>{i.getDataByType(e)[t]=1,i.setPlayerData(),this.updateItemList()};o.showVideoAd(a)}}fullBtnMove(){if(this.itemList.scrollBar.touchScrollEnable||!this.itemSp)return;this.itemSp.active=!0;let e=new Laya.Vector3(Laya.stage.mouseX,Laya.stage.mouseY-150,0);this.camera.convertScreenCoordToOrthographicCoord(e,e),e.z=0,this.itemSp.transform.position=e;let t=this.checkFixItemNode();t&&(this.itemSp.transform.rotationEuler=t.transform.rotationEuler.clone())}fullBtnEnd(){this.itemList.scrollBar.touchScrollEnable=!0,this.off(Laya.Event.MOUSE_MOVE,this,this.fullBtnMove),this.off(Laya.Event.MOUSE_UP,this,this.fullBtnEnd);let e=this.checkFixItemNode();e?this.addItemToBody(e):this.itemSp.destroy()}checkFixItemNode(){for(let e=0;e<this.body.numChildren;e++){let t=this.body.getChildAt(e),i=t.transform.position.clone(),a=this.itemSp.transform.position.clone();if(Laya.Vector3.distance(i,a)<=1)return t}return null}addItemToBody(e){this.itemCount++,s.instance.playSoundEffect("Get.mp3"),a.DoVibrate();let t=Laya.Sprite3D.instantiate(this.itemSp,e,!1);t.transform.localPosition=new Laya.Vector3,t.transform.localRotationEuler=new Laya.Vector3,t.getComponent(Laya.Animator).speed=1,this.itemSp.destroy(),this.updateCurData(this.getItemDataFromTypeIndex()[0],this.getItemDataFromTypeIndex()[1],this.getItemDataFromTypeIndex()[2]),this.updateItemList()}getItemDataFromTypeIndex(){let e=[];return 0==this.selectType?e=i.getItemData().head[this.selectIndex]:1==this.selectType?e=i.getItemData().leg[this.selectIndex]:2==this.selectType?e=i.getItemData().tail[this.selectIndex]:3==this.selectType&&(e=i.getItemData().wings[this.selectIndex]),e}adBtnCB(){o.showVideoAd(()=>{this.totalDna+=150,this.dnaNum.text=this.totalDna.toString(),this.adBtn.visible=!1,this.updateItemList()})}guide1(){this.finger.visible=!0,this.finger.pos(183,this.height-472),this.finger.scale(2,2),Laya.Tween.to(this.finger,{scaleX:1,scaleY:1},300,null,new Laya.Handler(this,()=>{Laya.Tween.to(this.finger,{x:530,y:300},1e3,null,new Laya.Handler(this,()=>{this.guide1()}))}))}guide2(){this.finger.visible=!0,this.finger.pos(this.width/2,this.height-472),this.finger.scale(2,2),Laya.Tween.to(this.finger,{scaleX:1,scaleY:1},300,null,new Laya.Handler(this,()=>{Laya.Tween.to(this.finger,{x:255,y:500},1e3,null,new Laya.Handler(this,()=>{this.guide2()}))}))}guide3(){this.finger.visible=!0,this.finger.pos(this.width/2,this.height-472),this.finger.scale(2,2),Laya.Tween.to(this.finger,{scaleX:1,scaleY:1},300,null,new Laya.Handler(this,()=>{Laya.Tween.to(this.finger,{x:475,y:500},1e3,null,new Laya.Handler(this,()=>{this.guide3()}))}))}myUpdate(){}}class b extends Laya.Script{constructor(){super()}onAwake(){this.myOwnwer=this.owner,this.scaleLoop(this.myOwnwer,1.1,400)}scaleLoop(e,t,i){Laya.Tween.to(e,{scaleX:t,scaleY:t},i,null,new Laya.Handler(this,()=>{Laya.Tween.to(e,{scaleX:1,scaleY:1},i,null,new Laya.Handler(this,()=>{this.scaleLoop(e,t,i)}))}))}}class v extends Laya.Scene{constructor(){super()}onOpened(){this.size(Laya.stage.displayWidth,Laya.stage.displayHeight),n.addClickEvent(this.startBtn,this,this.startBtnCB),h.inHomePage()}onClosed(){}startBtnCB(){h.startGame(()=>{Laya.Scene.open("MyScenes/SelectUI.scene")})}}class A extends Laya.Script{constructor(){super(),this.startY=0}onAwake(){this.myOwner=this.owner,this.startY=this.myOwner.y,this.startTween()}startTween(){Laya.Tween.to(this.myOwner,{y:this.startY+50},1e3,Laya.Ease.sineInOut,new Laya.Handler(this,()=>{Laya.Tween.to(this.myOwner,{y:this.startY},1e3,Laya.Ease.sineInOut,new Laya.Handler(this,()=>{this.startTween()}))}))}}class I{constructor(){}static init(){var e=Laya.ClassUtils.regClass;e("FanDong/Box1.ts",w),e("FanDong/Box2.ts",u),e("FanDong/HomeUI.ts",L),e("FanDong/Remen.ts",p),e("FanDong/VideoBanner.ts",f),e("View/FinishUI.ts",S),e("View/GameUI.ts",y),e("Libs/FixNodeY.ts",B),e("View/LoadingUI.ts",C),e("View/SelectUI.ts",x),e("Libs/ScaleLoop.ts",b),e("View/StartUI.ts",v),e("Mod/UpDownLoop.ts",A)}}I.width=750,I.height=1334,I.scaleMode="fixedwidth",I.screenMode="vertical",I.alignV="top",I.alignH="left",I.startScene="FDScene/Box1.scene",I.sceneRoot="",I.debug=!1,I.stat=!1,I.physicsDebug=!1,I.exportSceneToJson=!0,I.init();new class{constructor(){window.Laya3D?Laya3D.init(I.width,I.height):Laya.init(I.width,I.height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=I.scaleMode,Laya.stage.screenMode=I.screenMode,Laya.stage.alignV=I.alignV,Laya.stage.alignH=I.alignH,Laya.URL.exportSceneToJson=I.exportSceneToJson,Laya.stage.useRetinalCanvas=!0,(I.debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),I.physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),I.stat&&Laya.Stat.show(),Laya.alertGlobalError(!0),Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}onVersionLoaded(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))}onConfigLoaded(){new g}}}();