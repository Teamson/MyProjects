{
  "code": "import SoundMgr from \"../../Mod/SoundMgr\";\r\nimport Utility from \"../../Mod/Utility\";\r\nimport GameLogic from \"../GameLogic\";\r\nexport default class Pole extends Laya.Script {\r\n    constructor() {\r\n        super();\r\n        this.SlideArea = null;\r\n        this.DieArea1 = null;\r\n        this.DieArea2 = null;\r\n        this.FXNode = null;\r\n        this.isUsed = false;\r\n    }\r\n    onAwake() {\r\n        this.myOwner = this.owner;\r\n        this.SlideArea = this.myOwner.getChildByName('SlideArea');\r\n        this.DieArea1 = this.myOwner.getChildByName('DieArea1');\r\n        this.DieArea2 = this.myOwner.getChildByName('DieArea2');\r\n        this.FXNode = this.myOwner.getChildByName('FXNode');\r\n        this.FXNode.active = false;\r\n    }\r\n    onDisable() {\r\n    }\r\n    addPlayerToSelf() {\r\n        let pos = GameLogic.Share._player.transform.position.clone();\r\n        this.myOwner.addChild(GameLogic.Share._player);\r\n        GameLogic.Share._player.transform.position = pos;\r\n    }\r\n    onUpdate() {\r\n        if (GameLogic.Share.isGameOver || !GameLogic.Share.isStartGame || GameLogic.Share.isPause)\r\n            return;\r\n        if (this.myOwner.getChildByName('Player')) {\r\n            let player = this.myOwner.getChildByName('Player');\r\n            this.FXNode.active = true;\r\n            let pos = this.FXNode.transform.localPosition.clone();\r\n            pos.z = player.transform.localPosition.z;\r\n            this.FXNode.transform.localPosition = pos;\r\n        }\r\n        else {\r\n            this.FXNode.active = false;\r\n        }\r\n        if (Laya.CollisionUtils.boxContainsBox(Utility.getBoundBox(this.DieArea1, true), GameLogic.Share._playerCrl.getMyBB()) ||\r\n            Laya.CollisionUtils.boxContainsBox(Utility.getBoundBox(this.DieArea2, true), GameLogic.Share._playerCrl.getMyBB())) {\r\n            console.log(Utility.getBoundBox(this.DieArea1));\r\n            console.log(Utility.getBoundBox(this.DieArea2));\r\n            GameLogic.Share._playerCrl.diedCB(true);\r\n            return;\r\n        }\r\n        if (!this.isUsed && Laya.CollisionUtils.boxContainsBox(Utility.getBoundBox(this.SlideArea, true), GameLogic.Share._playerCrl.getMyBB())) {\r\n            this.isUsed = true;\r\n            if (GameLogic.Share._playerCrl.shoesArr.length <= 0) {\r\n                GameLogic.Share._playerCrl.diedCB(true);\r\n            }\r\n            else {\r\n                this.addPlayerToSelf();\r\n                SoundMgr.instance.playSoundEffect('Gliding.mp3', 1, null, null, 3.5);\r\n                GameLogic.Share._playerCrl.slideCB();\r\n            }\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Pole.js.map",
  "references": [
    "E:/LayaProjects/HighHeels2.10.0/src/Mod/SoundMgr.ts",
    "E:/LayaProjects/HighHeels2.10.0/src/Mod/Utility.ts",
    "E:/LayaProjects/HighHeels2.10.0/src/Crl/GameLogic.ts"
  ],
  "map": "{\"version\":3,\"file\":\"Pole.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/Crl/Prop/Pole.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
