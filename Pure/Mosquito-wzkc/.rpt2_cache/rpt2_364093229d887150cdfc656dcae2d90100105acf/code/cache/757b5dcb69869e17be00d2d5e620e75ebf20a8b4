{
  "code": "import JJMgr from \"../Common/JJMgr\";\r\nimport JJWxAd from \"../Common/JJWxAd\";\r\nimport JJWxTrap from \"../Common/JJWxTrap\";\r\nimport BaseExportUI from \"./BaseExportUI\";\r\nexport default class FinishExportUI extends BaseExportUI {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.navData = [];\r\n    }\r\n    onOpened(param) {\r\n        if (param && param.posY) {\r\n            this.navList.y = param.posY;\r\n        }\r\n        this.initList();\r\n    }\r\n    updateNavData() {\r\n        this.navData = [].concat(JJMgr.instance.shuffleArr(JJMgr.instance.navDataArr)).slice(0, 6);\r\n        this.navList.array = this.navData;\r\n    }\r\n    initList() {\r\n        this.navData = [].concat(JJMgr.instance.shuffleArr(JJMgr.instance.navDataArr)).slice(0, 6);\r\n        this.navList.vScrollBarSkin = '';\r\n        this.navList.repeatX = 3;\r\n        this.navList.repeatY = 2;\r\n        this.navList.array = this.navData;\r\n        this.navList.renderHandler = Laya.Handler.create(this, this.onListRender, null, false);\r\n        var index = Math.floor(Math.random() * this.navData.length);\r\n        ;\r\n        var item = this.navList.cells[index];\r\n        item.addChild(this.imgFinger);\r\n        this.imgFinger.pos(item.width / 1.5, item.height / 1.5);\r\n        Laya.timer.loop(1000, this, this.fingerAnim);\r\n    }\r\n    fingerAnim() {\r\n        if (this.isPlayFinger)\r\n            return;\r\n        var time = 100;\r\n        this.isPlayFinger = true;\r\n        this.toRotaion(this.imgFinger, -30, time, false, true);\r\n        Laya.timer.once(time * 2, this, () => { this.isPlayFinger = false; });\r\n    }\r\n    onListRender(cell, index) {\r\n        if (index >= this.navList.array.length) {\r\n            return;\r\n        }\r\n        var item = cell.getChildByName('item');\r\n        var icon = item.getChildByName('icon');\r\n        icon.skin = this.navData[index].icon;\r\n        index = JJMgr.instance.navDataArr.indexOf(this.navData[index]);\r\n        item.off(Laya.Event.CLICK, this, this.navCB, [index]);\r\n        item.on(Laya.Event.CLICK, this, this.navCB, [index]);\r\n    }\r\n    navCB(index) {\r\n        console.log('click id:', index);\r\n        JJMgr.instance.NavigateApp(index, () => {\r\n            JJWxTrap.Instance.showFullGameUI(() => {\r\n                JJWxAd.Instance.showBanner();\r\n            });\r\n        }, () => { });\r\n        this.updateNavData();\r\n    }\r\n    toRotaion(target, angle, duration, isLoop = false, isReset = false) {\r\n        var curAngle = target.rotation;\r\n        rotate1();\r\n        function rotate1() {\r\n            if (isLoop) {\r\n                var handler = new Laya.Handler(this, rotate2);\r\n            }\r\n            else if (isReset) {\r\n                var handler = new Laya.Handler(this, rotate4);\r\n            }\r\n            Laya.Tween.to(target, { rotation: angle }, duration, null, handler);\r\n        }\r\n        function rotate2() {\r\n            Laya.Tween.to(target, { rotation: -angle }, duration * 2, null, Laya.Handler.create(this, rotate3));\r\n        }\r\n        function rotate3() {\r\n            Laya.Tween.to(target, { rotation: angle }, duration * 2, null, Laya.Handler.create(this, rotate2));\r\n        }\r\n        function rotate4() {\r\n            Laya.Tween.to(target, { rotation: curAngle }, duration);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=FinishExportUI.js.map",
  "references": [
    "E:/LayaProjects/HighHeels2.10.0/src/JJExport/Common/JJMgr.ts",
    "E:/LayaProjects/HighHeels2.10.0/src/JJExport/Common/JJWxAd.ts",
    "E:/LayaProjects/HighHeels2.10.0/src/JJExport/Common/JJWxTrap.ts",
    "E:/LayaProjects/HighHeels2.10.0/src/JJExport/View/BaseExportUI.ts"
  ],
  "map": "{\"version\":3,\"file\":\"FinishExportUI.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/JJExport/View/FinishExportUI.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
