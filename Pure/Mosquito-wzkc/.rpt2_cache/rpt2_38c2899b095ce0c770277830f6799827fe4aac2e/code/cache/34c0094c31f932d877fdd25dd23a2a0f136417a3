{
  "code": "import GameLogic from \"../Crl/GameLogic\";\r\nimport PlayerDataMgr from \"../Libs/PlayerDataMgr\";\r\nimport Utility from \"../Mod/Utility\";\r\nexport default class GameUI extends Laya.Scene {\r\n    constructor() {\r\n        super();\r\n    }\r\n    onOpened() {\r\n        GameUI.Share = this;\r\n        this.gradeNum.value = PlayerDataMgr.getPlayerData().grade.toString();\r\n        this.touchBtn.on(Laya.Event.MOUSE_DOWN, this, this.touchBtnDownCB);\r\n        Laya.timer.frameLoop(1, this, this.updateCB);\r\n    }\r\n    onClosed() {\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    touchBtnDownCB(event) {\r\n        if (GameLogic.Share.isGameOver)\r\n            return;\r\n        if (!GameLogic.Share.isStartGame) {\r\n            GameLogic.Share.isStartGame = true;\r\n            this.guideAni.visible = false;\r\n            GameLogic.Share.startToWalk();\r\n        }\r\n    }\r\n    fixJewelIcon(jewel) {\r\n        let op = new Laya.Vector4(0, 0, 0);\r\n        let hPos = jewel.transform.position.clone();\r\n        hPos.y += 1;\r\n        GameLogic.Share._camera.viewport.project(hPos, GameLogic.Share._camera.projectionViewMatrix, op);\r\n        let j = new Laya.Image('startUI/sy_zs_01.png');\r\n        j.anchorX = 0.5;\r\n        j.anchorY = 0.5;\r\n        j.scale(3, 3);\r\n        j.pos(op.x / Laya.stage.clientScaleX, op.y / Laya.stage.clientScaleY);\r\n        this.addChild(j);\r\n        Utility.tMove2D(j, 610, 55, 500, () => {\r\n            PlayerDataMgr.changeCoin(1);\r\n            j.removeSelf();\r\n        });\r\n        Utility.scaleTo2D(j, 1, 500);\r\n    }\r\n    showKeyNode() {\r\n        for (let i = 0; i < this.keyNode.numChildren; i++) {\r\n            let key = this.keyNode.getChildAt(i);\r\n            key.skin = PlayerDataMgr.getPlayerData().key > i ? 'boxUI/mh_ys_01.png' : 'boxUI/mh_ys_02.png';\r\n        }\r\n        Utility.tMove2D(this.keyNode, 750 - 134, this.keyNode.y, 1000, () => {\r\n            Laya.timer.once(2000, this, () => {\r\n                Utility.tMove2D(this.keyNode, 750, this.keyNode.y, 1000);\r\n            });\r\n        });\r\n    }\r\n    updateCB() {\r\n    }\r\n}\r\n",
  "references": [
    "E:/微信项目集合/工程/HighHeels2.10.0/src/Crl/GameLogic.ts",
    "E:/微信项目集合/工程/HighHeels2.10.0/src/Libs/PlayerDataMgr.ts",
    "E:/微信项目集合/工程/HighHeels2.10.0/src/Mod/Utility.ts"
  ]
}
