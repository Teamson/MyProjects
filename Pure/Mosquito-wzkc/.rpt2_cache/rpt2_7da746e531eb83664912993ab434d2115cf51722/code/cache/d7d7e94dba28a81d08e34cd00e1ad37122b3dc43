{
  "code": "import GameLogic from \"../Crl/GameLogic\";\r\nimport JJMgr, { SceneDir } from \"../JJExport/Common/JJMgr\";\r\nimport PlayerDataMgr from \"../Libs/PlayerDataMgr\";\r\nimport WxApi from \"../Libs/WxApi\";\r\nimport AdMgr from \"../Mod/AdMgr\";\r\nimport ShareMgr from \"../Mod/ShareMgr\";\r\nimport SoundMgr from \"../Mod/SoundMgr\";\r\nexport default class FinishUI extends Laya.Scene {\r\n    constructor() {\r\n        super();\r\n    }\r\n    onOpened(param) {\r\n        this.coinNum.value = PlayerDataMgr.getPlayerData().coin.toString();\r\n        this.bounesNum.value = GameLogic.Share.isWin ? (GameLogic.Share._coinCount + GameLogic.Share._score).toString() : '0';\r\n        this.winTitle.visible = GameLogic.Share.isWin;\r\n        this.loseTitle.visible = !GameLogic.Share.isWin;\r\n        this.trippleBtn.visible = GameLogic.Share.isWin;\r\n        this.skipBtn.visible = !GameLogic.Share.isWin;\r\n        this.normalBtn.visible = GameLogic.Share.isWin;\r\n        this.restartBtn.visible = !GameLogic.Share.isWin;\r\n        this.trippleBtn.on(Laya.Event.CLICK, this, this.trippleBtnCB);\r\n        this.skipBtn.on(Laya.Event.CLICK, this, this.skipBtnCB);\r\n        this.normalBtn.on(Laya.Event.CLICK, this, this.normalBtnCB);\r\n        this.restartBtn.on(Laya.Event.CLICK, this, this.restartBtnCB);\r\n        AdMgr.instance.hideBanner();\r\n        JJMgr.instance.openScene(SceneDir.SCENE_FINISHGAMEUI, false, { posY: 500, fixY: true });\r\n        if (WxApi.isValidBanner()) {\r\n            WxApi.fixBtnTouchPos(this.normalBtn, 300, 100, this, null, true);\r\n            WxApi.fixBtnTouchPos(this.restartBtn, 300, 100, this, null, true);\r\n        }\r\n        else {\r\n            AdMgr.instance.showBanner();\r\n        }\r\n    }\r\n    onClosed() {\r\n    }\r\n    trippleBtnCB() {\r\n        SoundMgr.instance.playSoundEffect('Click.mp3');\r\n        let cb = () => {\r\n            PlayerDataMgr.getPlayerData().coin += parseInt(this.bounesNum.value) * 3;\r\n            PlayerDataMgr.getPlayerData().grade++;\r\n            this.back();\r\n        };\r\n        ShareMgr.instance.shareGame(cb);\r\n    }\r\n    skipBtnCB() {\r\n        SoundMgr.instance.playSoundEffect('Click.mp3');\r\n        let cb = () => {\r\n            PlayerDataMgr.getPlayerData().grade++;\r\n            this.back();\r\n        };\r\n        ShareMgr.instance.shareGame(cb);\r\n    }\r\n    normalBtnCB() {\r\n        SoundMgr.instance.playSoundEffect('Click.mp3');\r\n        PlayerDataMgr.getPlayerData().coin += parseInt(this.bounesNum.value);\r\n        PlayerDataMgr.getPlayerData().grade++;\r\n        this.back();\r\n    }\r\n    restartBtnCB() {\r\n        SoundMgr.instance.playSoundEffect('Click.mp3');\r\n        this.back();\r\n    }\r\n    back() {\r\n        if (JJMgr.instance.dataConfig.front_eject_second) {\r\n            JJMgr.instance.openScene(SceneDir.SCENE_FULLGAMEUI, true, {\r\n                continueCallbackFun: () => {\r\n                    JJMgr.instance.openScene(SceneDir.SCENE_RECOMMENDUI, true, {\r\n                        closeCallbackFun: () => {\r\n                            PlayerDataMgr.setPlayerData();\r\n                            GameLogic.Share.restartGame();\r\n                            JJMgr.instance.closeScene(SceneDir.SCENE_RECOMMENDUI);\r\n                            Laya.Scene.open('MyScenes/StartUI.scene');\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            JJMgr.instance.openScene(SceneDir.SCENE_RECOMMENDUI, true, {\r\n                closeCallbackFun: () => {\r\n                    PlayerDataMgr.setPlayerData();\r\n                    GameLogic.Share.restartGame();\r\n                    JJMgr.instance.closeScene(SceneDir.SCENE_RECOMMENDUI);\r\n                    Laya.Scene.open('MyScenes/StartUI.scene');\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=FinishUI.js.map",
  "references": [
    "E:/LayaProjects/PoleRush/src/Crl/GameLogic.ts",
    "E:/LayaProjects/PoleRush/src/JJExport/Common/JJMgr.ts",
    "E:/LayaProjects/PoleRush/src/Libs/PlayerDataMgr.ts",
    "E:/LayaProjects/PoleRush/src/Libs/WxApi.ts",
    "E:/LayaProjects/PoleRush/src/Mod/AdMgr.ts",
    "E:/LayaProjects/PoleRush/src/Mod/ShareMgr.ts",
    "E:/LayaProjects/PoleRush/src/Mod/SoundMgr.ts"
  ],
  "map": "{\"version\":3,\"file\":\"FinishUI.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/View/FinishUI.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
