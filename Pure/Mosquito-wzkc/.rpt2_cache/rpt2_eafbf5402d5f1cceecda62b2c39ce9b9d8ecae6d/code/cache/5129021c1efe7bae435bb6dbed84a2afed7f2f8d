{
  "code": "import JJMgr, { SceneDir } from \"../Common/JJMgr\";\r\nimport WxApi from \"../../Libs/WxApi\";\r\nexport default class WeChatUI extends Laya.Scene {\r\n    constructor() {\r\n        super();\r\n        this.playerNames = [\"有个小可爱\", \"大妈杀手\", \"神秘靓仔\", \"超级飞侠乐迪\", \"几一鸡\", \"爱喝可乐\", \"卖葫芦的葫芦娃\", \"多啦ABCD梦\", \"坏女孩\", \"沙雕网友\"];\r\n    }\r\n    onAwake() {\r\n        this.height = Laya.stage.height;\r\n        if (!WeChatUI.currentPlayerNames || WeChatUI.currentPlayerNames.length == 0) {\r\n            WeChatUI.currentPlayerNames = [].concat(this.playerNames);\r\n        }\r\n        if (!WeChatUI.currentGames || WeChatUI.currentGames.length == 0) {\r\n            WeChatUI.currentGames = [0, 1, 2, 3, 4, 5];\r\n        }\r\n        this.currentName = WeChatUI.currentPlayerNames.shift();\r\n    }\r\n    onOpened() {\r\n        this.lbName.text = this.currentName;\r\n        this.bg.top = -150;\r\n        Laya.Tween.to(this.bg, { top: 10 }, 500);\r\n        var index = WeChatUI.currentGames.shift();\r\n        this.bg.on(Laya.Event.CLICK, this, this.navCB, [index]);\r\n        this.lbGame.text = \"邀请你一起玩 \" + JJMgr.instance.getTitle(index);\r\n        WxApi.aldEvent(\"好友消息提示横幅出现次数\");\r\n    }\r\n    onClosed() {\r\n        Laya.timer.clearAll(this);\r\n    }\r\n    navCB(index) {\r\n        JJMgr.instance.closeScene(SceneDir.SCENE_WECHATUI);\r\n        WxApi.aldEvent(\"好友消息提示横幅-总点击数\");\r\n        console.log('click id:', index);\r\n        JJMgr.instance.NavigateApp(index, () => {\r\n        }, () => {\r\n            WxApi.aldEvent(\"好友消息提示横幅-总成功跳转数\");\r\n        });\r\n    }\r\n}\r\n",
  "references": [
    "E:/LayaProjects/PoleRush/src/JJExport/Common/JJUtils.ts",
    "E:/LayaProjects/PoleRush/src/JJExport/Common/JJMgr.ts",
    "E:/LayaProjects/PoleRush/src/Libs/WxApi.ts"
  ]
}
