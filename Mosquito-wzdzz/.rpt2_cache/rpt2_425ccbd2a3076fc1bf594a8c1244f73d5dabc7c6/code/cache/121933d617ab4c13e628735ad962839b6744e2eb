{
  "code": "export default class WxPlatformBannerAd {\r\n    constructor() {\r\n        this.isLoadBannerError = true;\r\n        this.catchErrorCB = null;\r\n        this.currentIndex = 0;\r\n        this.canLoadAgain = true;\r\n    }\r\n    static get Instance() {\r\n        if (!WxPlatformBannerAd._instance) {\r\n            WxPlatformBannerAd._instance = new WxPlatformBannerAd;\r\n        }\r\n        return WxPlatformBannerAd._instance;\r\n    }\r\n    get sysInfo() {\r\n        if (!this._sysInfo) {\r\n            this._sysInfo = wx[\"getSystemInfoSync\"]();\r\n        }\r\n        return this._sysInfo;\r\n    }\r\n    initAd(isAllowArea, isAllowScene, bannerCount = 5, changeTime = 30000, refreshNum = 1, bannerNum = 1, bannerIds = []) {\r\n        this.bannerIds = [\"adunit-1f7179c2cd82df22\"];\r\n        if (isAllowArea && isAllowScene) {\r\n            this.changeTime = changeTime;\r\n            this.refreshNum = refreshNum;\r\n            this.bannerNum = bannerNum;\r\n            this.bannerIds = this.bannerIds.concat(bannerIds);\r\n            this.useInnovation = true;\r\n            this.loadBannerNew();\r\n            this.showBanner = this.showBannerNew;\r\n            this.hideBanner = this.hideBannerNew;\r\n            console.log('新机制');\r\n        }\r\n        else {\r\n            this.bannerCount = bannerCount;\r\n            this.currentCount = bannerCount;\r\n            this.useInnovation = false;\r\n            this.loadBannerOld();\r\n            this.showBanner = this.showBannerOld;\r\n            this.hideBanner = this.hideBannerOld;\r\n            console.log('旧机制');\r\n        }\r\n    }\r\n    getBannerId() {\r\n        var randomIndex = Math.floor(Math.random() * 100) % this.bannerIds.length;\r\n        this.currentBannerId = this.bannerIds[randomIndex];\r\n        return this.bannerIds[randomIndex];\r\n    }\r\n    setBannerTop(top) {\r\n        if (!this.currentBanner)\r\n            return;\r\n        let sysInfo = this.sysInfo;\r\n        if (this.useInnovation) {\r\n            var bannerAd = this.currentBanner.banner;\r\n        }\r\n        else {\r\n            bannerAd = this.currentBanner;\r\n        }\r\n        let realHeight = bannerAd.style.realHeight + 0.1;\r\n        if (sysInfo.model.startsWith(\"iPhone X\"))\r\n            realHeight += 10;\r\n        bannerAd.style.top = sysInfo.screenHeight - realHeight + top;\r\n    }\r\n    loadBannerOld() {\r\n        if (!Laya.Browser.onWeiXin)\r\n            return;\r\n        if (this.isLoading)\r\n            return;\r\n        this.isLoading = true;\r\n        if (this.currentBanner) {\r\n            this.currentBanner.destroy();\r\n            this.currentBanner = null;\r\n        }\r\n        let sysInfo = this.sysInfo;\r\n        let id = this.getBannerId();\r\n        let bannerAd = wx[\"createBannerAd\"]({\r\n            adUnitId: id,\r\n            style: {\r\n                width: sysInfo.screenWidth * 0.8,\r\n                top: sysInfo.screenHeight * 0.8,\r\n                left: sysInfo.screenWidth * 0.2 / 2\r\n            }\r\n        });\r\n        bannerAd.onLoad(() => {\r\n            console.log(\"create banner success\");\r\n            WxPlatformBannerAd.Instance.currentBanner = bannerAd;\r\n            WxPlatformBannerAd.Instance.isLoading = false;\r\n            WxPlatformBannerAd.Instance.isLoadBannerError = false;\r\n            if (WxPlatformBannerAd.Instance.isloadAndShow) {\r\n                WxPlatformBannerAd.Instance.isloadAndShow = false;\r\n                WxPlatformBannerAd.Instance.showBannerOld();\r\n            }\r\n        });\r\n        bannerAd.onError((err) => {\r\n            console.log(\"create banner error\", err);\r\n            WxPlatformBannerAd.Instance.isLoading = false;\r\n            WxPlatformBannerAd.Instance.isLoadBannerError = true;\r\n        });\r\n        bannerAd.onResize((res) => {\r\n            let realHeight = bannerAd.style.realHeight + 0.1;\r\n            if (sysInfo.model.startsWith(\"iPhone X\"))\r\n                realHeight += 10;\r\n            bannerAd.style.top = sysInfo.screenHeight - realHeight;\r\n        });\r\n    }\r\n    showBannerOld() {\r\n        if (!this.currentBanner) {\r\n            this.isloadAndShow = true;\r\n            this.loadBannerOld();\r\n            return;\r\n        }\r\n        if (Laya.Browser.onWeiXin) {\r\n            if (!this.currentBanner)\r\n                return;\r\n            if (this.isShowBanner)\r\n                return;\r\n            this.isShowBanner = true;\r\n            let banner = this.currentBanner;\r\n            banner.show().catch(err => { this.catchErrorCB && this.catchErrorCB(); this.catchErrorCB = null; });\r\n            console.log(\"show banner\");\r\n            this.setBannerTop(0);\r\n        }\r\n    }\r\n    hideBannerOld() {\r\n        if (Laya.Browser.onWeiXin) {\r\n            this.isloadAndShow = false;\r\n            if (this.isShowBanner == false)\r\n                return;\r\n            this.isShowBanner = false;\r\n            if (!this.currentBanner)\r\n                return;\r\n            this.currentBanner.hide();\r\n            console.log(\"hide banner\", this.isShowBanner, this.currentBanner);\r\n            this.countBanner();\r\n        }\r\n    }\r\n    countBanner() {\r\n        if (!this.currentBanner)\r\n            return;\r\n        if (this.currentCount == 0) {\r\n            this.currentCount = this.bannerCount;\r\n            this.loadBannerOld();\r\n        }\r\n        this.currentCount--;\r\n        console.log(\"banner剩余展示次数\", this.bannerCount);\r\n    }\r\n    loadBannerNew() {\r\n        if (!Laya.Browser.onWeiXin)\r\n            return;\r\n        if (!this.canLoadAgain)\r\n            return;\r\n        this.canLoadAgain = false;\r\n        console.log(\"create banner\");\r\n        this.banners = [];\r\n        let sysInfo = this.sysInfo;\r\n        let count = this.bannerIds.length * this.bannerNum;\r\n        let errCount = count;\r\n        let totalCount = count;\r\n        for (let i = 0; i < this.bannerIds.length; i++) {\r\n            let id = this.bannerIds[i];\r\n            for (let j = 0; j < this.bannerNum; j++) {\r\n                let bannerAd = wx[\"createBannerAd\"]({\r\n                    adUnitId: id,\r\n                    style: {\r\n                        width: sysInfo.screenWidth * 0.8,\r\n                        top: sysInfo.screenHeight * 0.8,\r\n                        left: sysInfo.screenWidth * 0.2 / 2\r\n                    }\r\n                });\r\n                bannerAd.onLoad(() => {\r\n                    let item = { banner: bannerAd, showCount: 0 };\r\n                    WxPlatformBannerAd.Instance.banners.push(item);\r\n                    WxPlatformBannerAd.Instance.isLoadBannerError = false;\r\n                    if (--count == 0) {\r\n                        if (WxPlatformBannerAd.Instance.isloadAndShow) {\r\n                            WxPlatformBannerAd.Instance.showBanner();\r\n                        }\r\n                        console.log(\"front_banner_ids=========\", this.banners);\r\n                    }\r\n                    if (--totalCount == 0) {\r\n                        WxPlatformBannerAd.Instance.canLoadAgain = true;\r\n                    }\r\n                });\r\n                bannerAd.onError((err) => {\r\n                    console.log(\"create banner error\", err);\r\n                    if (--errCount == 0) {\r\n                        WxPlatformBannerAd.Instance.isLoadBannerError = true;\r\n                    }\r\n                    if (--totalCount == 0) {\r\n                        WxPlatformBannerAd.Instance.canLoadAgain = true;\r\n                    }\r\n                });\r\n                bannerAd.onResize((res) => {\r\n                    let realHeight = bannerAd.style.realHeight + 0.1;\r\n                    if (sysInfo.model.startsWith(\"iPhone X\"))\r\n                        realHeight += 10;\r\n                    bannerAd.style.top = sysInfo.screenHeight - realHeight;\r\n                });\r\n            }\r\n        }\r\n    }\r\n    showBannerNew() {\r\n        if (Laya.Browser.onWeiXin) {\r\n            this.hideBannerNew();\r\n            if (!this.banners || this.banners.length == 0) {\r\n                this.loadBannerNew();\r\n                this.isloadAndShow = true;\r\n                return;\r\n            }\r\n            if (this.currentIndex >= this.banners.length)\r\n                this.currentIndex = 0;\r\n            let item = this.banners[this.currentIndex];\r\n            Laya.timer.once(this.changeTime, this, this.showBannerNew);\r\n            if (!item || !item.banner)\r\n                return;\r\n            this.currentIndex++;\r\n            item.banner.show().catch(err => { this.catchErrorCB && this.catchErrorCB(); this.catchErrorCB = null; });\r\n            item.showCount++;\r\n            this.currentBanner = item;\r\n            console.log(\"show banner\", this.currentIndex - 1);\r\n            this.setBannerTop(0);\r\n        }\r\n    }\r\n    hideBannerNew() {\r\n        this.isloadAndShow = false;\r\n        if (Laya.Browser.onWeiXin) {\r\n            let item = this.currentBanner;\r\n            if (!item)\r\n                return;\r\n            item.banner.hide();\r\n            if (item.showCount >= this.refreshNum) {\r\n                item.banner.destroy();\r\n                this.banners.splice(this.banners.indexOf(item), 1);\r\n                console.log(\"destroy banner\");\r\n            }\r\n            console.log(\"hide banner\", this.currentIndex - 1);\r\n            this.currentBanner = null;\r\n            Laya.timer.clear(this, this.showBannerNew);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=WxPlatformBannerAd.js.map",
  "references": [],
  "map": "{\"version\":3,\"file\":\"WxPlatformBannerAd.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/Mod/WxPlatformBannerAd.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
