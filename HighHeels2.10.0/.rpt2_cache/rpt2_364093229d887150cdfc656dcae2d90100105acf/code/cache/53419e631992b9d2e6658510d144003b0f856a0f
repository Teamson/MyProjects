{
  "code": "import JJMgr from \"../JJExport/Common/JJMgr\";\r\nimport PlayerDataMgr from \"../Libs/PlayerDataMgr\";\r\nimport GameLogic from \"./GameLogic\";\r\nexport default class UnlockNode extends Laya.Script {\r\n    constructor() {\r\n        super();\r\n        this.listDataArr = [];\r\n    }\r\n    onAwake() {\r\n        this.myOwner = this.owner;\r\n        this.myList = this.myOwner.getChildByName('myList');\r\n        let temp = {};\r\n        for (let i = 0; i < PlayerDataMgr.getPlayerData().shoesArr.length; i++) {\r\n            if (i == PlayerDataMgr.getPlayerData().shoesId) {\r\n                temp = {\r\n                    id: i,\r\n                    value: PlayerDataMgr.getPlayerData().shoesArr[i]\r\n                };\r\n                continue;\r\n            }\r\n            this.listDataArr.push({\r\n                id: i,\r\n                value: PlayerDataMgr.getPlayerData().shoesArr[i]\r\n            });\r\n        }\r\n        this.listDataArr.sort((a, b) => {\r\n            return a.value - b.value;\r\n        });\r\n        this.listDataArr.unshift(temp);\r\n        this.initList();\r\n    }\r\n    onDisable() {\r\n    }\r\n    initList() {\r\n        this.myList.hScrollBarSkin = '';\r\n        this.myList.array = this.listDataArr;\r\n        this.myList.repeatY = 2;\r\n        this.myList.renderHandler = Laya.Handler.create(this, this.onListRender, null, false);\r\n    }\r\n    onListRender(cell, index) {\r\n        if (index >= this.myList.array.length) {\r\n            return;\r\n        }\r\n        var item = cell.getChildByName('item');\r\n        let icon = item.getChildByName('icon');\r\n        let bg = item.getChildByName('bg');\r\n        bg.visible = this.listDataArr[index].value == 0;\r\n        item.skin = this.listDataArr[index].id == PlayerDataMgr.getPlayerData().shoesId ? 'skinUI/sd_dk_02.png' : 'skinUI/sd_dk_01.png';\r\n        icon.skin = 'skinUI/shoes/Shoes' + (this.listDataArr[index].id + 1) + '.png';\r\n        item.off(Laya.Event.CLICK, this, this.selectSkin);\r\n        item.on(Laya.Event.CLICK, this, this.selectSkin, [this.listDataArr[index].id]);\r\n    }\r\n    selectSkin(index) {\r\n        let fun = () => {\r\n            this.listDataArr = [];\r\n            let temp = {};\r\n            for (let i = 0; i < PlayerDataMgr.getPlayerData().shoesArr.length; i++) {\r\n                if (i == PlayerDataMgr.getPlayerData().shoesId) {\r\n                    temp = {\r\n                        id: i,\r\n                        value: PlayerDataMgr.getPlayerData().shoesArr[i]\r\n                    };\r\n                    continue;\r\n                }\r\n                this.listDataArr.push({\r\n                    id: i,\r\n                    value: PlayerDataMgr.getPlayerData().shoesArr[i]\r\n                });\r\n            }\r\n            this.listDataArr.sort((a, b) => {\r\n                return a.value - b.value;\r\n            });\r\n            this.listDataArr.unshift(temp);\r\n            this.myList.array = this.listDataArr;\r\n        };\r\n        if (PlayerDataMgr.getPlayerData().shoesArr[index] == 0) {\r\n            let cb = () => {\r\n                PlayerDataMgr.getPlayerData().shoesArr[index] = 1;\r\n                PlayerDataMgr.getPlayerData().shoesId = index;\r\n                PlayerDataMgr.setPlayerData();\r\n                GameLogic.Share._playerCrl.initShoes(index);\r\n                fun();\r\n            };\r\n            JJMgr.instance.rewardClick(cb);\r\n        }\r\n        else {\r\n            PlayerDataMgr.getPlayerData().shoesId = index;\r\n            PlayerDataMgr.setPlayerData();\r\n            GameLogic.Share._playerCrl.initShoes(index);\r\n            fun();\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=UnlockNode.js.map",
  "references": [
    "E:/LayaProjects/HighHeels2.10.0/src/JJExport/Common/JJMgr.ts",
    "E:/LayaProjects/HighHeels2.10.0/src/Libs/PlayerDataMgr.ts",
    "E:/LayaProjects/HighHeels2.10.0/src/Crl/GameLogic.ts"
  ],
  "map": "{\"version\":3,\"file\":\"UnlockNode.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/Crl/UnlockNode.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
