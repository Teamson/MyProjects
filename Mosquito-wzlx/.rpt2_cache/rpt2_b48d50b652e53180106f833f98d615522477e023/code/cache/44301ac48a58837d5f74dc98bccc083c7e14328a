{
  "code": "import GameLogic from \"./GameLogic\";\r\nexport default class Box extends Laya.Script {\r\n    constructor() {\r\n        super();\r\n        this.myOwner = null;\r\n        this.myId = 0;\r\n        this.randX = 0;\r\n        this.havaRandX = false;\r\n    }\r\n    onEnable() {\r\n        this.myOwner = this.owner;\r\n        this.randX = (Math.random() * 0.3) - 0.15;\r\n    }\r\n    onDisable() {\r\n    }\r\n    onUpdate() {\r\n        if (!GameLogic.Share.isStartGame || GameLogic.Share.isGameOver)\r\n            return;\r\n        if (this.myOwner.transform.position.z >= GameLogic.Share.totalDistance) {\r\n            this.myOwner.destroy();\r\n            GameLogic.Share._score++;\r\n            return;\r\n        }\r\n        let havePre = this.myId >= 10;\r\n        let preBox = null;\r\n        if (havePre)\r\n            preBox = GameLogic.Share._boxNode.getChildAt(this.myId - 10);\r\n        if (Math.abs(this.myOwner.transform.position.z - GameLogic.Share._pole.transform.position.z) <= 0.6) {\r\n            if ((this.myOwner.transform.position.x + 0.5 <= GameLogic.Share._poleCrl.max.transform.position.x &&\r\n                this.myOwner.transform.position.x + 0.5 >= GameLogic.Share._poleCrl.min.transform.position.x) ||\r\n                (this.myOwner.transform.position.x - 0.5 <= GameLogic.Share._poleCrl.max.transform.position.x &&\r\n                    this.myOwner.transform.position.x - 0.5 >= GameLogic.Share._poleCrl.min.transform.position.x)) {\r\n                let newPos = new Laya.Vector3(0, 0, GameLogic.Share._playerCrl.speed);\r\n                this.myOwner.transform.translate(newPos, false);\r\n            }\r\n        }\r\n        else if (havePre && preBox && Math.abs(this.myOwner.transform.position.z - preBox.transform.position.z) <= 0.9) {\r\n            let p = this.myOwner.transform.position.clone();\r\n            if (!this.havaRandX) {\r\n                this.randX = p.x + this.randX;\r\n                this.havaRandX = true;\r\n            }\r\n            else {\r\n                var v = p.clone();\r\n                v.x = this.randX;\r\n                Laya.Vector3.lerp(p, v, 0.2, p);\r\n                this.myOwner.transform.position = p;\r\n            }\r\n            let newPos = new Laya.Vector3(0, 0, GameLogic.Share._playerCrl.speed);\r\n            this.myOwner.transform.translate(newPos, false);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Box.js.map",
  "references": [
    "E:/LayaProjects/PoleRush/src/Mod/Utility.ts",
    "E:/LayaProjects/PoleRush/src/Crl/GameLogic.ts"
  ],
  "map": "{\"version\":3,\"file\":\"Box.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/Crl/Box.ts\"],\"names\":[],\"mappings\":\"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\"}"
}
